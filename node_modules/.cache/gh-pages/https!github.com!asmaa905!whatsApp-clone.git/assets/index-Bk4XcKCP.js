(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ql(t,e){const n=new Set(t.split(","));return s=>n.has(s)}const be={},bs=[],It=()=>{},vy=()=>!1,mo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yl=t=>t.startsWith("onUpdate:"),He=Object.assign,Jl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},wy=Object.prototype.hasOwnProperty,ce=(t,e)=>wy.call(t,e),z=Array.isArray,Cs=t=>yo(t)==="[object Map]",Xf=t=>yo(t)==="[object Set]",Z=t=>typeof t=="function",Ue=t=>typeof t=="string",rs=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",Zf=t=>(Ae(t)||Z(t))&&Z(t.then)&&Z(t.catch),ed=Object.prototype.toString,yo=t=>ed.call(t),_y=t=>yo(t).slice(8,-1),td=t=>yo(t)==="[object Object]",Xl=t=>Ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,pr=Ql(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ey=/-(\w)/g,Qt=vo(t=>t.replace(Ey,(e,n)=>n?n.toUpperCase():"")),by=/\B([A-Z])/g,Ks=vo(t=>t.replace(by,"-$1").toLowerCase()),wo=vo(t=>t.charAt(0).toUpperCase()+t.slice(1)),va=vo(t=>t?`on${wo(t)}`:""),In=(t,e)=>!Object.is(t,e),ki=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},nd=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Qa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let xu;const sd=()=>xu||(xu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zl(t){if(z(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ue(s)?Ay(s):Zl(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ue(t)||Ae(t))return t}const Cy=/;(?![^(]*\))/g,Sy=/:([^]+)/,Ty=/\/\*[^]*?\*\//g;function Ay(t){const e={};return t.replace(Ty,"").split(Cy).forEach(n=>{if(n){const s=n.split(Sy);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ec(t){let e="";if(Ue(t))e=t;else if(z(t))for(let n=0;n<t.length;n++){const s=ec(t[n]);s&&(e+=s+" ")}else if(Ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Iy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xy=Ql(Iy);function rd(t){return!!t||t===""}const ft=t=>Ue(t)?t:t==null?"":z(t)||Ae(t)&&(t.toString===ed||!Z(t.toString))?JSON.stringify(t,id,2):String(t),id=(t,e)=>e&&e.__v_isRef?id(t,e.value):Cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[wa(s,i)+" =>"]=r,n),{})}:Xf(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>wa(n))}:rs(e)?wa(e):Ae(e)&&!z(e)&&!td(e)?String(e):e,wa=(t,e="")=>{var n;return rs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _t;class od{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=_t;try{return _t=this,e()}finally{_t=n}}}on(){_t=this}off(){_t=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ad(t){return new od(t)}function Ry(t,e=_t){e&&e.active&&e.effects.push(t)}function ld(){return _t}function Dy(t){_t&&_t.cleanups.push(t)}let Qn;class tc{constructor(e,n,s,r){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ry(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,kn();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Ny(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),On()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=En,n=Qn;try{return En=!0,Qn=this,this._runnings++,Ru(this),this.fn()}finally{Du(this),this._runnings--,Qn=n,En=e}}stop(){this.active&&(Ru(this),Du(this),this.onStop&&this.onStop(),this.active=!1)}}function Ny(t){return t.value}function Ru(t){t._trackId++,t._depsLength=0}function Du(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)cd(t.deps[e],t);t.deps.length=t._depsLength}}function cd(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let En=!0,Ya=0;const ud=[];function kn(){ud.push(En),En=!1}function On(){const t=ud.pop();En=t===void 0?!0:t}function nc(){Ya++}function sc(){for(Ya--;!Ya&&Ja.length;)Ja.shift()()}function hd(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&cd(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ja=[];function fd(t,e,n){nc();for(const s of t.keys()){let r;s._dirtyLevel<e&&(r??(r=t.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(r??(r=t.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Ja.push(s.scheduler)))}sc()}const dd=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Hi=new WeakMap,Yn=Symbol(""),Xa=Symbol("");function yt(t,e,n){if(En&&Qn){let s=Hi.get(t);s||Hi.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=dd(()=>s.delete(n))),hd(Qn,r)}}function sn(t,e,n,s,r,i){const o=Hi.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&z(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!rs(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":z(t)?Xl(n)&&a.push(o.get("length")):(a.push(o.get(Yn)),Cs(t)&&a.push(o.get(Xa)));break;case"delete":z(t)||(a.push(o.get(Yn)),Cs(t)&&a.push(o.get(Xa)));break;case"set":Cs(t)&&a.push(o.get(Yn));break}nc();for(const l of a)l&&fd(l,4);sc()}function ky(t,e){const n=Hi.get(t);return n&&n.get(e)}const Oy=Ql("__proto__,__v_isRef,__isVue"),pd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(rs)),Nu=Ly();function Ly(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ue(this);for(let i=0,o=this.length;i<o;i++)yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(ue)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){kn(),nc();const s=ue(this)[e].apply(this,n);return sc(),On(),s}}),t}function Py(t){rs(t)||(t=String(t));const e=ue(this);return yt(e,"has",t),e.hasOwnProperty(t)}class gd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Wy:wd:i?vd:yd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=z(e);if(!r){if(o&&ce(Nu,n))return Reflect.get(Nu,n,s);if(n==="hasOwnProperty")return Py}const a=Reflect.get(e,n,s);return(rs(n)?pd.has(n):Oy(n))||(r||yt(e,"get",n),i)?a:Ne(a)?o&&Xl(n)?a:a.value:Ae(a)?r?Ed(a):is(a):a}}class md extends gd{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=Ar(i);if(!zi(s)&&!Ar(s)&&(i=ue(i),s=ue(s)),!z(e)&&Ne(i)&&!Ne(s))return l?!1:(i.value=s,!0)}const o=z(e)&&Xl(n)?Number(n)<e.length:ce(e,n),a=Reflect.set(e,n,s,r);return e===ue(r)&&(o?In(s,i)&&sn(e,"set",n,s):sn(e,"add",n,s)),a}deleteProperty(e,n){const s=ce(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&sn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!rs(n)||!pd.has(n))&&yt(e,"has",n),s}ownKeys(e){return yt(e,"iterate",z(e)?"length":Yn),Reflect.ownKeys(e)}}class My extends gd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Fy=new md,$y=new My,Vy=new md(!0);const rc=t=>t,_o=t=>Reflect.getPrototypeOf(t);function mi(t,e,n=!1,s=!1){t=t.__v_raw;const r=ue(t),i=ue(e);n||(In(e,i)&&yt(r,"get",e),yt(r,"get",i));const{has:o}=_o(r),a=s?rc:n?lc:Ir;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function yi(t,e=!1){const n=this.__v_raw,s=ue(n),r=ue(t);return e||(In(t,r)&&yt(s,"has",t),yt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function vi(t,e=!1){return t=t.__v_raw,!e&&yt(ue(t),"iterate",Yn),Reflect.get(t,"size",t)}function ku(t){t=ue(t);const e=ue(this);return _o(e).has.call(e,t)||(e.add(t),sn(e,"add",t,t)),this}function Ou(t,e){e=ue(e);const n=ue(this),{has:s,get:r}=_o(n);let i=s.call(n,t);i||(t=ue(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?In(e,o)&&sn(n,"set",t,e):sn(n,"add",t,e),this}function Lu(t){const e=ue(this),{has:n,get:s}=_o(e);let r=n.call(e,t);r||(t=ue(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&sn(e,"delete",t,void 0),i}function Pu(){const t=ue(this),e=t.size!==0,n=t.clear();return e&&sn(t,"clear",void 0,void 0),n}function wi(t,e){return function(s,r){const i=this,o=i.__v_raw,a=ue(o),l=e?rc:t?lc:Ir;return!t&&yt(a,"iterate",Yn),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function _i(t,e,n){return function(...s){const r=this.__v_raw,i=ue(r),o=Cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?rc:e?lc:Ir;return!e&&yt(i,"iterate",l?Xa:Yn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function fn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Uy(){const t={get(i){return mi(this,i)},get size(){return vi(this)},has:yi,add:ku,set:Ou,delete:Lu,clear:Pu,forEach:wi(!1,!1)},e={get(i){return mi(this,i,!1,!0)},get size(){return vi(this)},has:yi,add:ku,set:Ou,delete:Lu,clear:Pu,forEach:wi(!1,!0)},n={get(i){return mi(this,i,!0)},get size(){return vi(this,!0)},has(i){return yi.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:wi(!0,!1)},s={get(i){return mi(this,i,!0,!0)},get size(){return vi(this,!0)},has(i){return yi.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:wi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=_i(i,!1,!1),n[i]=_i(i,!0,!1),e[i]=_i(i,!1,!0),s[i]=_i(i,!0,!0)}),[t,n,e,s]}const[By,jy,qy,Hy]=Uy();function ic(t,e){const n=e?t?Hy:qy:t?jy:By;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ce(n,r)&&r in s?n:s,r,i)}const zy={get:ic(!1,!1)},Ky={get:ic(!1,!0)},Gy={get:ic(!0,!1)};const yd=new WeakMap,vd=new WeakMap,wd=new WeakMap,Wy=new WeakMap;function Qy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yy(t){return t.__v_skip||!Object.isExtensible(t)?0:Qy(_y(t))}function is(t){return Ar(t)?t:oc(t,!1,Fy,zy,yd)}function _d(t){return oc(t,!1,Vy,Ky,vd)}function Ed(t){return oc(t,!0,$y,Gy,wd)}function oc(t,e,n,s,r){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Yy(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function bn(t){return Ar(t)?bn(t.__v_raw):!!(t&&t.__v_isReactive)}function Ar(t){return!!(t&&t.__v_isReadonly)}function zi(t){return!!(t&&t.__v_isShallow)}function bd(t){return t?!!t.__v_raw:!1}function ue(t){const e=t&&t.__v_raw;return e?ue(e):t}function ac(t){return Object.isExtensible(t)&&nd(t,"__v_skip",!0),t}const Ir=t=>Ae(t)?is(t):t,lc=t=>Ae(t)?Ed(t):t;class Cd{constructor(e,n,s,r){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new tc(()=>e(this._value),()=>Oi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=ue(this);return(!e._cacheable||e.effect.dirty)&&In(e._value,e._value=e.effect.run())&&Oi(e,4),Sd(e),e.effect._dirtyLevel>=2&&Oi(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Jy(t,e,n=!1){let s,r;const i=Z(t);return i?(s=t,r=It):(s=t.get,r=t.set),new Cd(s,r,i||!r,n)}function Sd(t){var e;En&&Qn&&(t=ue(t),hd(Qn,(e=t.dep)!=null?e:t.dep=dd(()=>t.dep=void 0,t instanceof Cd?t:void 0)))}function Oi(t,e=4,n){t=ue(t);const s=t.dep;s&&fd(s,e)}function Ne(t){return!!(t&&t.__v_isRef===!0)}function os(t){return Td(t,!1)}function Xy(t){return Td(t,!0)}function Td(t,e){return Ne(t)?t:new Zy(t,e)}class Zy{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ue(e),this._value=n?e:Ir(e)}get value(){return Sd(this),this._value}set value(e){const n=this.__v_isShallow||zi(e)||Ar(e);e=n?e:ue(e),In(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ir(e),Oi(this,4))}}function ye(t){return Ne(t)?t.value:t}const e1={get:(t,e,n)=>ye(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ne(r)&&!Ne(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ad(t){return bn(t)?t:new Proxy(t,e1)}function Id(t){const e=z(t)?new Array(t.length):{};for(const n in t)e[n]=xd(t,n);return e}class t1{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ky(ue(this._object),this._key)}}class n1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function s1(t,e,n){return Ne(t)?t:Z(t)?new n1(t):Ae(t)&&arguments.length>1?xd(t,e,n):os(t)}function xd(t,e,n){const s=t[e];return Ne(s)?s:new t1(t,e,n)}/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cn(t,e,n,s){try{return s?t(...s):t()}catch(r){Eo(r,e,n)}}function Ot(t,e,n,s){if(Z(t)){const r=Cn(t,e,n,s);return r&&Zf(r)&&r.catch(i=>{Eo(i,e,n)}),r}if(z(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ot(t[i],e,n,s));return r}}function Eo(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){kn(),Cn(l,null,10,[t,o,a]),On();return}}r1(t,n,r,s)}function r1(t,e,n,s=!0){console.error(t)}let xr=!1,Za=!1;const nt=[];let jt=0;const Ss=[];let mn=null,Hn=0;const Rd=Promise.resolve();let cc=null;function uc(t){const e=cc||Rd;return t?e.then(this?t.bind(this):t):e}function i1(t){let e=jt+1,n=nt.length;for(;e<n;){const s=e+n>>>1,r=nt[s],i=Rr(r);i<t||i===t&&r.pre?e=s+1:n=s}return e}function hc(t){(!nt.length||!nt.includes(t,xr&&t.allowRecurse?jt+1:jt))&&(t.id==null?nt.push(t):nt.splice(i1(t.id),0,t),Dd())}function Dd(){!xr&&!Za&&(Za=!0,cc=Rd.then(kd))}function o1(t){const e=nt.indexOf(t);e>jt&&nt.splice(e,1)}function a1(t){z(t)?Ss.push(...t):(!mn||!mn.includes(t,t.allowRecurse?Hn+1:Hn))&&Ss.push(t),Dd()}function Mu(t,e,n=xr?jt+1:0){for(;n<nt.length;n++){const s=nt[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;nt.splice(n,1),n--,s()}}}function Nd(t){if(Ss.length){const e=[...new Set(Ss)].sort((n,s)=>Rr(n)-Rr(s));if(Ss.length=0,mn){mn.push(...e);return}for(mn=e,Hn=0;Hn<mn.length;Hn++)mn[Hn]();mn=null,Hn=0}}const Rr=t=>t.id==null?1/0:t.id,l1=(t,e)=>{const n=Rr(t)-Rr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function kd(t){Za=!1,xr=!0,nt.sort(l1);try{for(jt=0;jt<nt.length;jt++){const e=nt[jt];e&&e.active!==!1&&Cn(e,null,14)}}finally{jt=0,nt.length=0,Nd(),xr=!1,cc=null,(nt.length||Ss.length)&&kd()}}function c1(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||be;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||be;f&&(r=n.map(g=>Ue(g)?g.trim():g)),h&&(r=n.map(Qa))}let a,l=s[a=va(e)]||s[a=va(Qt(e))];!l&&i&&(l=s[a=va(Ks(e))]),l&&Ot(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(c,t,6,r)}}function Od(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Od(c,e,!0);u&&(a=!0,He(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ae(t)&&s.set(t,null),null):(z(i)?i.forEach(l=>o[l]=null):He(o,i),Ae(t)&&s.set(t,o),o)}function bo(t,e){return!t||!mo(e)?!1:(e=e.slice(2).replace(/Once$/,""),ce(t,e[0].toLowerCase()+e.slice(1))||ce(t,Ks(e))||ce(t,e))}let $e=null,Co=null;function Ki(t){const e=$e;return $e=t,Co=t&&t.type.__scopeId||null,e}function u1(t){Co=t}function h1(){Co=null}function f1(t,e=$e,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Gu(-1);const i=Ki(e);let o;try{o=t(...r)}finally{Ki(i),s._d&&Gu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function _a(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:g,ctx:m,inheritAttrs:y}=t,S=Ki(t);let I,D;try{if(n.shapeFlag&4){const Q=r||s,re=Q;I=Bt(c.call(re,Q,u,h,g,f,m)),D=a}else{const Q=e;I=Bt(Q.length>1?Q(h,{attrs:a,slots:o,emit:l}):Q(h,null)),D=e.props?a:d1(a)}}catch(Q){yr.length=0,Eo(Q,t,1),I=Ee(xn)}let P=I;if(D&&y!==!1){const Q=Object.keys(D),{shapeFlag:re}=P;Q.length&&re&7&&(i&&Q.some(Yl)&&(D=p1(D,i)),P=Os(P,D,!1,!0))}return n.dirs&&(P=Os(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),I=P,Ki(S),I}const d1=t=>{let e;for(const n in t)(n==="class"||n==="style"||mo(n))&&((e||(e={}))[n]=t[n]);return e},p1=(t,e)=>{const n={};for(const s in t)(!Yl(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function g1(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Fu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!bo(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Fu(s,o,c):!0:!!o;return!1}function Fu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!bo(n,i))return!0}return!1}function m1({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const y1="components";function Ld(t,e){return w1(y1,t,!0,e)||t}const v1=Symbol.for("v-ndc");function w1(t,e,n=!0,s=!1){const r=$e||qe;if(r){const i=r.type;{const a=y0(i,!1);if(a&&(a===e||a===Qt(e)||a===wo(Qt(e))))return i}const o=$u(r[t]||i[t],e)||$u(r.appContext[t],e);return!o&&s?i:o}}function $u(t,e){return t&&(t[e]||t[Qt(e)]||t[wo(Qt(e))])}const _1=t=>t.__isSuspense;function E1(t,e){e&&e.pendingBranch?z(t)?e.effects.push(...t):e.effects.push(t):a1(t)}const b1=Symbol.for("v-scx"),C1=()=>Lt(b1),Ei={};function Ts(t,e,n){return Pd(t,e,n)}function Pd(t,e,{immediate:n,deep:s,flush:r,once:i,onTrack:o,onTrigger:a}=be){if(e&&i){const K=e;e=(...Ie)=>{K(...Ie),re()}}const l=qe,c=K=>s===!0?K:zn(K,s===!1?1:void 0);let u,h=!1,f=!1;if(Ne(t)?(u=()=>t.value,h=zi(t)):bn(t)?(u=()=>c(t),h=!0):z(t)?(f=!0,h=t.some(K=>bn(K)||zi(K)),u=()=>t.map(K=>{if(Ne(K))return K.value;if(bn(K))return c(K);if(Z(K))return Cn(K,l,2)})):Z(t)?e?u=()=>Cn(t,l,2):u=()=>(g&&g(),Ot(t,l,3,[m])):u=It,e&&s){const K=u;u=()=>zn(K())}let g,m=K=>{g=P.onStop=()=>{Cn(K,l,4),g=P.onStop=void 0}},y;if(Ao)if(m=It,e?n&&Ot(e,l,3,[u(),f?[]:void 0,m]):u(),r==="sync"){const K=C1();y=K.__watcherHandles||(K.__watcherHandles=[])}else return It;let S=f?new Array(t.length).fill(Ei):Ei;const I=()=>{if(!(!P.active||!P.dirty))if(e){const K=P.run();(s||h||(f?K.some((Ie,ne)=>In(Ie,S[ne])):In(K,S)))&&(g&&g(),Ot(e,l,3,[K,S===Ei?void 0:f&&S[0]===Ei?[]:S,m]),S=K)}else P.run()};I.allowRecurse=!!e;let D;r==="sync"?D=I:r==="post"?D=()=>pt(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),D=()=>hc(I));const P=new tc(u,It,D),Q=ld(),re=()=>{P.stop(),Q&&Jl(Q.effects,P)};return e?n?I():S=P.run():r==="post"?pt(P.run.bind(P),l&&l.suspense):P.run(),y&&y.push(re),re}function S1(t,e,n){const s=this.proxy,r=Ue(t)?t.includes(".")?Md(s,t):()=>s[t]:t.bind(s,s);let i;Z(e)?i=e:(i=e.handler,n=e);const o=Yr(this),a=Pd(r,i.bind(s),n);return o(),a}function Md(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function zn(t,e=1/0,n){if(e<=0||!Ae(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ne(t))zn(t.value,e,n);else if(z(t))for(let s=0;s<t.length;s++)zn(t[s],e,n);else if(Xf(t)||Cs(t))t.forEach(s=>{zn(s,e,n)});else if(td(t))for(const s in t)zn(t[s],e,n);return t}function T1(t,e){if($e===null)return t;const n=Io($e)||$e.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=be]=e[r];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&zn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Un(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(kn(),Ot(l,n,8,[t.el,a,t,e]),On())}}/*! #__NO_SIDE_EFFECTS__ */function fc(t,e){return Z(t)?He({name:t.name},e,{setup:t}):t}const gr=t=>!!t.type.__asyncLoader,Fd=t=>t.type.__isKeepAlive;function A1(t,e){$d(t,"a",e)}function I1(t,e){$d(t,"da",e)}function $d(t,e,n=qe){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(So(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Fd(r.parent.vnode)&&x1(s,e,n,r),r=r.parent}}function x1(t,e,n,s){const r=So(e,t,s,!0);Vd(()=>{Jl(s[e],r)},n)}function So(t,e,n=qe,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;kn();const a=Yr(n),l=Ot(e,n,t,o);return a(),On(),l});return s?r.unshift(i):r.push(i),i}}const un=t=>(e,n=qe)=>(!Ao||t==="sp")&&So(t,(...s)=>e(...s),n),R1=un("bm"),Qr=un("m"),D1=un("bu"),N1=un("u"),k1=un("bum"),Vd=un("um"),O1=un("sp"),L1=un("rtg"),P1=un("rtc");function M1(t,e=qe){So("ec",t,e)}function dc(t,e,n,s){let r;const i=n;if(z(t)||Ue(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i)}else if(Ae(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i)}}else r=[];return r}function F1(t,e,n={},s,r){if($e.isCE||$e.parent&&gr($e.parent)&&$e.parent.isCE)return Ee("slot",n,s);let i=t[e];i&&i._c&&(i._d=!1),G();const o=i&&Ud(i(n)),a=Wi(gt,{key:n.key||o&&o.key||`_${e}`},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Ud(t){return t.some(e=>Qi(e)?!(e.type===xn||e.type===gt&&!Ud(e.children)):!0)?t:null}const el=t=>t?tp(t)?Io(t)||t.proxy:el(t.parent):null,mr=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>el(t.parent),$root:t=>el(t.root),$emit:t=>t.emit,$options:t=>pc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,hc(t.update)}),$nextTick:t=>t.n||(t.n=uc.bind(t.proxy)),$watch:t=>S1.bind(t)}),Ea=(t,e)=>t!==be&&!t.__isScriptSetup&&ce(t,e),$1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Ea(s,e))return o[e]=1,s[e];if(r!==be&&ce(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ce(c,e))return o[e]=3,i[e];if(n!==be&&ce(n,e))return o[e]=4,n[e];tl&&(o[e]=0)}}const u=mr[e];let h,f;if(u)return e==="$attrs"&&yt(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&ce(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ce(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Ea(r,e)?(r[e]=n,!0):s!==be&&ce(s,e)?(s[e]=n,!0):ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==be&&ce(t,o)||Ea(e,o)||(a=i[0])&&ce(a,o)||ce(s,o)||ce(mr,o)||ce(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function V1(){return U1().slots}function U1(){const t=d0();return t.setupContext||(t.setupContext=sp(t))}function Vu(t){return z(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tl=!0;function B1(t){const e=pc(t),n=t.proxy,s=t.ctx;tl=!1,e.beforeCreate&&Uu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:m,activated:y,deactivated:S,beforeDestroy:I,beforeUnmount:D,destroyed:P,unmounted:Q,render:re,renderTracked:K,renderTriggered:Ie,errorCaptured:ne,serverPrefetch:se,expose:Oe,inheritAttrs:Je,components:vt,directives:Ct,filters:Vn}=e;if(c&&j1(c,s,null),o)for(const we in o){const de=o[we];Z(de)&&(s[we]=de.bind(n))}if(r){const we=r.call(n,n);Ae(we)&&(t.data=is(we))}if(tl=!0,i)for(const we in i){const de=i[we],en=Z(de)?de.bind(n,n):Z(de.get)?de.get.bind(n,n):It,hn=!Z(de)&&Z(de.set)?de.set.bind(n):It,$t=Tt({get:en,set:hn});Object.defineProperty(s,we,{enumerable:!0,configurable:!0,get:()=>$t.value,set:dt=>$t.value=dt})}if(a)for(const we in a)Bd(a[we],s,n,we);if(l){const we=Z(l)?l.call(n):l;Reflect.ownKeys(we).forEach(de=>{Li(de,we[de])})}u&&Uu(u,t,"c");function he(we,de){z(de)?de.forEach(en=>we(en.bind(n))):de&&we(de.bind(n))}if(he(R1,h),he(Qr,f),he(D1,g),he(N1,m),he(A1,y),he(I1,S),he(M1,ne),he(P1,K),he(L1,Ie),he(k1,D),he(Vd,Q),he(O1,se),z(Oe))if(Oe.length){const we=t.exposed||(t.exposed={});Oe.forEach(de=>{Object.defineProperty(we,de,{get:()=>n[de],set:en=>n[de]=en})})}else t.exposed||(t.exposed={});re&&t.render===It&&(t.render=re),Je!=null&&(t.inheritAttrs=Je),vt&&(t.components=vt),Ct&&(t.directives=Ct)}function j1(t,e,n=It){z(t)&&(t=nl(t));for(const s in t){const r=t[s];let i;Ae(r)?"default"in r?i=Lt(r.from||s,r.default,!0):i=Lt(r.from||s):i=Lt(r),Ne(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Uu(t,e,n){Ot(z(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Bd(t,e,n,s){const r=s.includes(".")?Md(n,s):()=>n[s];if(Ue(t)){const i=e[t];Z(i)&&Ts(r,i)}else if(Z(t))Ts(r,t.bind(n));else if(Ae(t))if(z(t))t.forEach(i=>Bd(i,e,n,s));else{const i=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(i)&&Ts(r,i,t)}}function pc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Gi(l,c,o,!0)),Gi(l,e,o)),Ae(e)&&i.set(e,l),l}function Gi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Gi(t,i,n,!0),r&&r.forEach(o=>Gi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=q1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const q1={data:Bu,props:ju,emits:ju,methods:lr,computed:lr,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:lr,directives:lr,watch:z1,provide:Bu,inject:H1};function Bu(t,e){return e?t?function(){return He(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function H1(t,e){return lr(nl(t),nl(e))}function nl(t){if(z(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ct(t,e){return t?[...new Set([].concat(t,e))]:e}function lr(t,e){return t?He(Object.create(null),t,e):e}function ju(t,e){return t?z(t)&&z(e)?[...new Set([...t,...e])]:He(Object.create(null),Vu(t),Vu(e??{})):e}function z1(t,e){if(!t)return e;if(!e)return t;const n=He(Object.create(null),t);for(const s in e)n[s]=ct(t[s],e[s]);return n}function jd(){return{app:null,config:{isNativeTag:vy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K1=0;function G1(t,e){return function(s,r=null){Z(s)||(s=He({},s)),r!=null&&!Ae(r)&&(r=null);const i=jd(),o=new WeakSet;let a=!1;const l=i.app={_uid:K1++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:w0,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=Ee(s,r);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Io(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){const u=As;As=l;try{return c()}finally{As=u}}};return l}}let As=null;function Li(t,e){if(qe){let n=qe.provides;const s=qe.parent&&qe.parent.provides;s===n&&(n=qe.provides=Object.create(s)),n[t]=e}}function Lt(t,e,n=!1){const s=qe||$e;if(s||As){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:As._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Z(e)?e.call(s&&s.proxy):e}}function W1(){return!!(qe||$e||As)}const qd={},Hd=()=>Object.create(qd),zd=t=>Object.getPrototypeOf(t)===qd;function Q1(t,e,n,s=!1){const r={},i=Hd();t.propsDefaults=Object.create(null),Kd(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:_d(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Y1(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ue(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(bo(t.emitsOptions,f))continue;const g=e[f];if(l)if(ce(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const m=Qt(f);r[m]=sl(l,a,m,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{Kd(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!ce(e,h)&&((u=Ks(h))===h||!ce(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=sl(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ce(e,h))&&(delete i[h],c=!0)}c&&sn(t.attrs,"set","")}function Kd(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(pr(l))continue;const c=e[l];let u;r&&ce(r,u=Qt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:bo(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ue(n),c=a||be;for(let u=0;u<i.length;u++){const h=i[u];n[h]=sl(r,l,h,c[h],t,!ce(c,h))}}return o}function sl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ce(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Yr(r);s=c[n]=l.call(null,e),u()}}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ks(n))&&(s=!0))}return s}function Gd(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=h=>{l=!0;const[f,g]=Gd(h,e,!0);He(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ae(t)&&s.set(t,bs),bs;if(z(i))for(let u=0;u<i.length;u++){const h=Qt(i[u]);qu(h)&&(o[h]=be)}else if(i)for(const u in i){const h=Qt(u);if(qu(h)){const f=i[u],g=o[h]=z(f)||Z(f)?{type:f}:He({},f);if(g){const m=Ku(Boolean,g.type),y=Ku(String,g.type);g[0]=m>-1,g[1]=y<0||m<y,(m>-1||ce(g,"default"))&&a.push(h)}}}const c=[o,a];return Ae(t)&&s.set(t,c),c}function qu(t){return t[0]!=="$"&&!pr(t)}function Hu(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function zu(t,e){return Hu(t)===Hu(e)}function Ku(t,e){return z(e)?e.findIndex(n=>zu(n,t)):Z(e)&&zu(e,t)?0:-1}const Wd=t=>t[0]==="_"||t==="$stable",gc=t=>z(t)?t.map(Bt):[Bt(t)],J1=(t,e,n)=>{if(e._n)return e;const s=f1((...r)=>gc(e(...r)),n);return s._c=!1,s},Qd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Wd(r))continue;const i=t[r];if(Z(i))e[r]=J1(r,i,s);else if(i!=null){const o=gc(i);e[r]=()=>o}}},Yd=(t,e)=>{const n=gc(e);t.slots.default=()=>n},X1=(t,e)=>{const n=t.slots=Hd();if(t.vnode.shapeFlag&32){const s=e._;s?(He(n,e),nd(n,"_",s,!0)):Qd(e,n)}else e&&Yd(t,e)},Z1=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=be;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(He(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Qd(e,r)),o=e}else e&&(Yd(t,e),o={default:1});if(i)for(const a in r)!Wd(a)&&o[a]==null&&delete r[a]};function rl(t,e,n,s,r=!1){if(z(t)){t.forEach((f,g)=>rl(f,e&&(z(e)?e[g]:e),n,s,r));return}if(gr(s)&&!r)return;const i=s.shapeFlag&4?Io(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===be?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Ue(c)?(u[c]=null,ce(h,c)&&(h[c]=null)):Ne(c)&&(c.value=null)),Z(l))Cn(l,a,12,[o,u]);else{const f=Ue(l),g=Ne(l);if(f||g){const m=()=>{if(t.f){const y=f?ce(h,l)?h[l]:u[l]:l.value;r?z(y)&&Jl(y,i):z(y)?y.includes(i)||y.push(i):f?(u[l]=[i],ce(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ce(h,l)&&(h[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,pt(m,n)):m()}}}const pt=E1;function e0(t){return t0(t)}function t0(t,e){const n=sd();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=It,insertStaticContent:m}=t,y=(d,p,v,C=null,w=null,R=null,L=void 0,x=null,N=!!p.dynamicChildren)=>{if(d===p)return;d&&!nr(d,p)&&(C=E(d),dt(d,w,R,!0),d=null),p.patchFlag===-2&&(N=!1,p.dynamicChildren=null);const{type:T,ref:$,shapeFlag:H}=p;switch(T){case To:S(d,p,v,C);break;case xn:I(d,p,v,C);break;case Pi:d==null&&D(p,v,C,L);break;case gt:vt(d,p,v,C,w,R,L,x,N);break;default:H&1?re(d,p,v,C,w,R,L,x,N):H&6?Ct(d,p,v,C,w,R,L,x,N):(H&64||H&128)&&T.process(d,p,v,C,w,R,L,x,N,U)}$!=null&&w&&rl($,d&&d.ref,R,p||d,!p)},S=(d,p,v,C)=>{if(d==null)s(p.el=a(p.children),v,C);else{const w=p.el=d.el;p.children!==d.children&&c(w,p.children)}},I=(d,p,v,C)=>{d==null?s(p.el=l(p.children||""),v,C):p.el=d.el},D=(d,p,v,C)=>{[d.el,d.anchor]=m(d.children,p,v,C,d.el,d.anchor)},P=({el:d,anchor:p},v,C)=>{let w;for(;d&&d!==p;)w=f(d),s(d,v,C),d=w;s(p,v,C)},Q=({el:d,anchor:p})=>{let v;for(;d&&d!==p;)v=f(d),r(d),d=v;r(p)},re=(d,p,v,C,w,R,L,x,N)=>{p.type==="svg"?L="svg":p.type==="math"&&(L="mathml"),d==null?K(p,v,C,w,R,L,x,N):se(d,p,w,R,L,x,N)},K=(d,p,v,C,w,R,L,x)=>{let N,T;const{props:$,shapeFlag:H,transition:j,dirs:J}=d;if(N=d.el=o(d.type,R,$&&$.is,$),H&8?u(N,d.children):H&16&&ne(d.children,N,null,C,w,ba(d,R),L,x),J&&Un(d,null,C,"created"),Ie(N,d,d.scopeId,L,C),$){for(const _e in $)_e!=="value"&&!pr(_e)&&i(N,_e,null,$[_e],R,d.children,C,w,Xe);"value"in $&&i(N,"value",null,$.value,R),(T=$.onVnodeBeforeMount)&&Ut(T,C,d)}J&&Un(d,null,C,"beforeMount");const ie=n0(w,j);ie&&j.beforeEnter(N),s(N,p,v),((T=$&&$.onVnodeMounted)||ie||J)&&pt(()=>{T&&Ut(T,C,d),ie&&j.enter(N),J&&Un(d,null,C,"mounted")},w)},Ie=(d,p,v,C,w)=>{if(v&&g(d,v),C)for(let R=0;R<C.length;R++)g(d,C[R]);if(w){let R=w.subTree;if(p===R){const L=w.vnode;Ie(d,L,L.scopeId,L.slotScopeIds,w.parent)}}},ne=(d,p,v,C,w,R,L,x,N=0)=>{for(let T=N;T<d.length;T++){const $=d[T]=x?yn(d[T]):Bt(d[T]);y(null,$,p,v,C,w,R,L,x)}},se=(d,p,v,C,w,R,L)=>{const x=p.el=d.el;let{patchFlag:N,dynamicChildren:T,dirs:$}=p;N|=d.patchFlag&16;const H=d.props||be,j=p.props||be;let J;if(v&&Bn(v,!1),(J=j.onVnodeBeforeUpdate)&&Ut(J,v,p,d),$&&Un(p,d,v,"beforeUpdate"),v&&Bn(v,!0),T?Oe(d.dynamicChildren,T,x,v,C,ba(p,w),R):L||de(d,p,x,null,v,C,ba(p,w),R,!1),N>0){if(N&16)Je(x,p,H,j,v,C,w);else if(N&2&&H.class!==j.class&&i(x,"class",null,j.class,w),N&4&&i(x,"style",H.style,j.style,w),N&8){const ie=p.dynamicProps;for(let _e=0;_e<ie.length;_e++){const xe=ie[_e],Be=H[xe],Nt=j[xe];(Nt!==Be||xe==="value")&&i(x,xe,Be,Nt,w,d.children,v,C,Xe)}}N&1&&d.children!==p.children&&u(x,p.children)}else!L&&T==null&&Je(x,p,H,j,v,C,w);((J=j.onVnodeUpdated)||$)&&pt(()=>{J&&Ut(J,v,p,d),$&&Un(p,d,v,"updated")},C)},Oe=(d,p,v,C,w,R,L)=>{for(let x=0;x<p.length;x++){const N=d[x],T=p[x],$=N.el&&(N.type===gt||!nr(N,T)||N.shapeFlag&70)?h(N.el):v;y(N,T,$,null,C,w,R,L,!0)}},Je=(d,p,v,C,w,R,L)=>{if(v!==C){if(v!==be)for(const x in v)!pr(x)&&!(x in C)&&i(d,x,v[x],null,L,p.children,w,R,Xe);for(const x in C){if(pr(x))continue;const N=C[x],T=v[x];N!==T&&x!=="value"&&i(d,x,T,N,L,p.children,w,R,Xe)}"value"in C&&i(d,"value",v.value,C.value,L)}},vt=(d,p,v,C,w,R,L,x,N)=>{const T=p.el=d?d.el:a(""),$=p.anchor=d?d.anchor:a("");let{patchFlag:H,dynamicChildren:j,slotScopeIds:J}=p;J&&(x=x?x.concat(J):J),d==null?(s(T,v,C),s($,v,C),ne(p.children||[],v,$,w,R,L,x,N)):H>0&&H&64&&j&&d.dynamicChildren?(Oe(d.dynamicChildren,j,v,w,R,L,x),(p.key!=null||w&&p===w.subTree)&&Jd(d,p,!0)):de(d,p,v,$,w,R,L,x,N)},Ct=(d,p,v,C,w,R,L,x,N)=>{p.slotScopeIds=x,d==null?p.shapeFlag&512?w.ctx.activate(p,v,C,L,N):Vn(p,v,C,w,R,L,N):St(d,p,N)},Vn=(d,p,v,C,w,R,L)=>{const x=d.component=f0(d,C,w);if(Fd(d)&&(x.ctx.renderer=U),p0(x),x.asyncDep){if(w&&w.registerDep(x,he),!d.el){const N=x.subTree=Ee(xn);I(null,N,p,v)}}else he(x,d,p,v,w,R,L)},St=(d,p,v)=>{const C=p.component=d.component;if(g1(d,p,v))if(C.asyncDep&&!C.asyncResolved){we(C,p,v);return}else C.next=p,o1(C.update),C.effect.dirty=!0,C.update();else p.el=d.el,C.vnode=p},he=(d,p,v,C,w,R,L)=>{const x=()=>{if(d.isMounted){let{next:$,bu:H,u:j,parent:J,vnode:ie}=d;{const ps=Xd(d);if(ps){$&&($.el=ie.el,we(d,$,L)),ps.asyncDep.then(()=>{d.isUnmounted||x()});return}}let _e=$,xe;Bn(d,!1),$?($.el=ie.el,we(d,$,L)):$=ie,H&&ki(H),(xe=$.props&&$.props.onVnodeBeforeUpdate)&&Ut(xe,J,$,ie),Bn(d,!0);const Be=_a(d),Nt=d.subTree;d.subTree=Be,y(Nt,Be,h(Nt.el),E(Nt),d,w,R),$.el=Be.el,_e===null&&m1(d,Be.el),j&&pt(j,w),(xe=$.props&&$.props.onVnodeUpdated)&&pt(()=>Ut(xe,J,$,ie),w)}else{let $;const{el:H,props:j}=p,{bm:J,m:ie,parent:_e}=d,xe=gr(p);if(Bn(d,!1),J&&ki(J),!xe&&($=j&&j.onVnodeBeforeMount)&&Ut($,_e,p),Bn(d,!0),H&&Re){const Be=()=>{d.subTree=_a(d),Re(H,d.subTree,d,w,null)};xe?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Be()):Be()}else{const Be=d.subTree=_a(d);y(null,Be,v,C,d,w,R),p.el=Be.el}if(ie&&pt(ie,w),!xe&&($=j&&j.onVnodeMounted)){const Be=p;pt(()=>Ut($,_e,Be),w)}(p.shapeFlag&256||_e&&gr(_e.vnode)&&_e.vnode.shapeFlag&256)&&d.a&&pt(d.a,w),d.isMounted=!0,p=v=C=null}},N=d.effect=new tc(x,It,()=>hc(T),d.scope),T=d.update=()=>{N.dirty&&N.run()};T.id=d.uid,Bn(d,!0),T()},we=(d,p,v)=>{p.component=d;const C=d.vnode.props;d.vnode=p,d.next=null,Y1(d,p.props,C,v),Z1(d,p.children,v),kn(),Mu(d),On()},de=(d,p,v,C,w,R,L,x,N=!1)=>{const T=d&&d.children,$=d?d.shapeFlag:0,H=p.children,{patchFlag:j,shapeFlag:J}=p;if(j>0){if(j&128){hn(T,H,v,C,w,R,L,x,N);return}else if(j&256){en(T,H,v,C,w,R,L,x,N);return}}J&8?($&16&&Xe(T,w,R),H!==T&&u(v,H)):$&16?J&16?hn(T,H,v,C,w,R,L,x,N):Xe(T,w,R,!0):($&8&&u(v,""),J&16&&ne(H,v,C,w,R,L,x,N))},en=(d,p,v,C,w,R,L,x,N)=>{d=d||bs,p=p||bs;const T=d.length,$=p.length,H=Math.min(T,$);let j;for(j=0;j<H;j++){const J=p[j]=N?yn(p[j]):Bt(p[j]);y(d[j],J,v,null,w,R,L,x,N)}T>$?Xe(d,w,R,!0,!1,H):ne(p,v,C,w,R,L,x,N,H)},hn=(d,p,v,C,w,R,L,x,N)=>{let T=0;const $=p.length;let H=d.length-1,j=$-1;for(;T<=H&&T<=j;){const J=d[T],ie=p[T]=N?yn(p[T]):Bt(p[T]);if(nr(J,ie))y(J,ie,v,null,w,R,L,x,N);else break;T++}for(;T<=H&&T<=j;){const J=d[H],ie=p[j]=N?yn(p[j]):Bt(p[j]);if(nr(J,ie))y(J,ie,v,null,w,R,L,x,N);else break;H--,j--}if(T>H){if(T<=j){const J=j+1,ie=J<$?p[J].el:C;for(;T<=j;)y(null,p[T]=N?yn(p[T]):Bt(p[T]),v,ie,w,R,L,x,N),T++}}else if(T>j)for(;T<=H;)dt(d[T],w,R,!0),T++;else{const J=T,ie=T,_e=new Map;for(T=ie;T<=j;T++){const wt=p[T]=N?yn(p[T]):Bt(p[T]);wt.key!=null&&_e.set(wt.key,T)}let xe,Be=0;const Nt=j-ie+1;let ps=!1,Tu=0;const tr=new Array(Nt);for(T=0;T<Nt;T++)tr[T]=0;for(T=J;T<=H;T++){const wt=d[T];if(Be>=Nt){dt(wt,w,R,!0);continue}let Vt;if(wt.key!=null)Vt=_e.get(wt.key);else for(xe=ie;xe<=j;xe++)if(tr[xe-ie]===0&&nr(wt,p[xe])){Vt=xe;break}Vt===void 0?dt(wt,w,R,!0):(tr[Vt-ie]=T+1,Vt>=Tu?Tu=Vt:ps=!0,y(wt,p[Vt],v,null,w,R,L,x,N),Be++)}const Au=ps?s0(tr):bs;for(xe=Au.length-1,T=Nt-1;T>=0;T--){const wt=ie+T,Vt=p[wt],Iu=wt+1<$?p[wt+1].el:C;tr[T]===0?y(null,Vt,v,Iu,w,R,L,x,N):ps&&(xe<0||T!==Au[xe]?$t(Vt,v,Iu,2):xe--)}}},$t=(d,p,v,C,w=null)=>{const{el:R,type:L,transition:x,children:N,shapeFlag:T}=d;if(T&6){$t(d.component.subTree,p,v,C);return}if(T&128){d.suspense.move(p,v,C);return}if(T&64){L.move(d,p,v,U);return}if(L===gt){s(R,p,v);for(let H=0;H<N.length;H++)$t(N[H],p,v,C);s(d.anchor,p,v);return}if(L===Pi){P(d,p,v);return}if(C!==2&&T&1&&x)if(C===0)x.beforeEnter(R),s(R,p,v),pt(()=>x.enter(R),w);else{const{leave:H,delayLeave:j,afterLeave:J}=x,ie=()=>s(R,p,v),_e=()=>{H(R,()=>{ie(),J&&J()})};j?j(R,ie,_e):_e()}else s(R,p,v)},dt=(d,p,v,C=!1,w=!1)=>{const{type:R,props:L,ref:x,children:N,dynamicChildren:T,shapeFlag:$,patchFlag:H,dirs:j}=d;if(x!=null&&rl(x,null,v,d,!0),$&256){p.ctx.deactivate(d);return}const J=$&1&&j,ie=!gr(d);let _e;if(ie&&(_e=L&&L.onVnodeBeforeUnmount)&&Ut(_e,p,d),$&6)gi(d.component,v,C);else{if($&128){d.suspense.unmount(v,C);return}J&&Un(d,null,p,"beforeUnmount"),$&64?d.type.remove(d,p,v,w,U,C):T&&(R!==gt||H>0&&H&64)?Xe(T,p,v,!1,!0):(R===gt&&H&384||!w&&$&16)&&Xe(N,p,v),C&&fs(d)}(ie&&(_e=L&&L.onVnodeUnmounted)||J)&&pt(()=>{_e&&Ut(_e,p,d),J&&Un(d,null,p,"unmounted")},v)},fs=d=>{const{type:p,el:v,anchor:C,transition:w}=d;if(p===gt){ds(v,C);return}if(p===Pi){Q(d);return}const R=()=>{r(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:L,delayLeave:x}=w,N=()=>L(v,R);x?x(d.el,R,N):N()}else R()},ds=(d,p)=>{let v;for(;d!==p;)v=f(d),r(d),d=v;r(p)},gi=(d,p,v)=>{const{bum:C,scope:w,update:R,subTree:L,um:x}=d;C&&ki(C),w.stop(),R&&(R.active=!1,dt(L,d,p,v)),x&&pt(x,p),pt(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Xe=(d,p,v,C=!1,w=!1,R=0)=>{for(let L=R;L<d.length;L++)dt(d[L],p,v,C,w)},E=d=>d.shapeFlag&6?E(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el);let F=!1;const O=(d,p,v)=>{d==null?p._vnode&&dt(p._vnode,null,null,!0):y(p._vnode||null,d,p,null,null,null,v),F||(F=!0,Mu(),Nd(),F=!1),p._vnode=d},U={p:y,um:dt,m:$t,r:fs,mt:Vn,mc:ne,pc:de,pbc:Oe,n:E,o:t};let ge,Re;return{render:O,hydrate:ge,createApp:G1(O,ge)}}function ba({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Bn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function n0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Jd(t,e,n=!1){const s=t.children,r=e.children;if(z(s)&&z(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=yn(r[i]),a.el=o.el),n||Jd(o,a)),a.type===To&&(a.el=o.el)}}function s0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Xd(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xd(e)}const r0=t=>t.__isTeleport,gt=Symbol.for("v-fgt"),To=Symbol.for("v-txt"),xn=Symbol.for("v-cmt"),Pi=Symbol.for("v-stc"),yr=[];let kt=null;function G(t=!1){yr.push(kt=t?null:[])}function i0(){yr.pop(),kt=yr[yr.length-1]||null}let Dr=1;function Gu(t){Dr+=t}function Zd(t){return t.dynamicChildren=Dr>0?kt||bs:null,i0(),Dr>0&&kt&&kt.push(t),t}function ee(t,e,n,s,r,i){return Zd(B(t,e,n,s,r,i,!0))}function Wi(t,e,n,s,r){return Zd(Ee(t,e,n,s,r,!0))}function Qi(t){return t?t.__v_isVNode===!0:!1}function nr(t,e){return t.type===e.type&&t.key===e.key}const ep=({key:t})=>t??null,Mi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ue(t)||Ne(t)||Z(t)?{i:$e,r:t,k:e,f:!!n}:t:null);function B(t,e=null,n=null,s=0,r=null,i=t===gt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ep(e),ref:e&&Mi(e),scopeId:Co,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$e};return a?(mc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ue(n)?8:16),Dr>0&&!o&&kt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&kt.push(l),l}const Ee=o0;function o0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===v1)&&(t=xn),Qi(t)){const a=Os(t,e,!0);return n&&mc(a,n),Dr>0&&!i&&kt&&(a.shapeFlag&6?kt[kt.indexOf(t)]=a:kt.push(a)),a.patchFlag|=-2,a}if(v0(t)&&(t=t.__vccOpts),e){e=a0(e);let{class:a,style:l}=e;a&&!Ue(a)&&(e.class=ec(a)),Ae(l)&&(bd(l)&&!z(l)&&(l=He({},l)),e.style=Zl(l))}const o=Ue(t)?1:_1(t)?128:r0(t)?64:Ae(t)?4:Z(t)?2:0;return B(t,e,n,s,r,o,i,!0)}function a0(t){return t?bd(t)||zd(t)?He({},t):t:null}function Os(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Ln(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ep(c),ref:e&&e.ref?n&&i?z(i)?i.concat(Mi(e)):[i,Mi(e)]:Mi(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==gt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Os(t.ssContent),ssFallback:t.ssFallback&&Os(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&(u.transition=l.clone(u)),u}function l0(t=" ",e=0){return Ee(To,null,t,e)}function c0(t,e){const n=Ee(Pi,null,t);return n.staticCount=e,n}function Xt(t="",e=!1){return e?(G(),Wi(xn,null,t)):Ee(xn,null,t)}function Bt(t){return t==null||typeof t=="boolean"?Ee(xn):z(t)?Ee(gt,null,t.slice()):typeof t=="object"?yn(t):Ee(To,null,String(t))}function yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Os(t)}function mc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(z(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),mc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!zd(e)?e._ctx=$e:r===3&&$e&&($e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:$e},n=32):(e=String(e),s&64?(n=16,e=[l0(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ln(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ec([e.class,s.class]));else if(r==="style")e.style=Zl([e.style,s.style]);else if(mo(r)){const i=e[r],o=s[r];o&&i!==o&&!(z(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ut(t,e,n,s=null){Ot(t,e,7,[n,s])}const u0=jd();let h0=0;function f0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||u0,i={uid:h0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new od(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gd(s,r),emitsOptions:Od(s,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:s.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=c1.bind(null,i),t.ce&&t.ce(i),i}let qe=null;const d0=()=>qe||$e;let Yi,il;{const t=sd(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Yi=e("__VUE_INSTANCE_SETTERS__",n=>qe=n),il=e("__VUE_SSR_SETTERS__",n=>Ao=n)}const Yr=t=>{const e=qe;return Yi(t),t.scope.on(),()=>{t.scope.off(),Yi(e)}},Wu=()=>{qe&&qe.scope.off(),Yi(null)};function tp(t){return t.vnode.shapeFlag&4}let Ao=!1;function p0(t,e=!1){e&&il(e);const{props:n,children:s}=t.vnode,r=tp(t);Q1(t,n,r,e),X1(t,s);const i=r?g0(t,e):void 0;return e&&il(!1),i}function g0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$1);const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?sp(t):null,i=Yr(t);kn();const o=Cn(s,t,0,[t.props,r]);if(On(),i(),Zf(o)){if(o.then(Wu,Wu),e)return o.then(a=>{Qu(t,a,e)}).catch(a=>{Eo(a,t,0)});t.asyncDep=o}else Qu(t,o,e)}else np(t,e)}function Qu(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=Ad(e)),np(t,n)}let Yu;function np(t,e,n){const s=t.type;if(!t.render){if(!e&&Yu&&!s.render){const r=s.template||pc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=He(He({isCustomElement:i,delimiters:a},o),l);s.render=Yu(r,c)}}t.render=s.render||It}{const r=Yr(t);kn();try{B1(t)}finally{On(),r()}}}const m0={get(t,e){return yt(t,"get",""),t[e]}};function sp(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,m0),slots:t.slots,emit:t.emit,expose:e}}function Io(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ad(ac(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in mr)return mr[n](t)},has(e,n){return n in e||n in mr}}))}function y0(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function v0(t){return Z(t)&&"__vccOpts"in t}const Tt=(t,e)=>Jy(t,e,Ao);function rp(t,e,n){const s=arguments.length;return s===2?Ae(e)&&!z(e)?Qi(e)?Ee(t,null,[e]):Ee(t,e):Ee(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Qi(n)&&(n=[n]),Ee(t,e,n))}const w0="3.4.26";/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _0="http://www.w3.org/2000/svg",E0="http://www.w3.org/1998/Math/MathML",vn=typeof document<"u"?document:null,Ju=vn&&vn.createElement("template"),b0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?vn.createElementNS(_0,t):e==="mathml"?vn.createElementNS(E0,t):vn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>vn.createTextNode(t),createComment:t=>vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Ju.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Ju.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},C0=Symbol("_vtc");function S0(t,e,n){const s=t[C0];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xu=Symbol("_vod"),T0=Symbol("_vsh"),A0=Symbol(""),I0=/(^|;)\s*display\s*:/;function x0(t,e,n){const s=t.style,r=Ue(n);let i=!1;if(n&&!r){if(e)if(Ue(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Fi(s,a,"")}else for(const o in e)n[o]==null&&Fi(s,o,"");for(const o in n)o==="display"&&(i=!0),Fi(s,o,n[o])}else if(r){if(e!==n){const o=s[A0];o&&(n+=";"+o),s.cssText=n,i=I0.test(n)}}else e&&t.removeAttribute("style");Xu in t&&(t[Xu]=i?s.display:"",t[T0]&&(s.display="none"))}const Zu=/\s*!important$/;function Fi(t,e,n){if(z(n))n.forEach(s=>Fi(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=R0(t,e);Zu.test(n)?t.setProperty(Ks(s),n.replace(Zu,""),"important"):t[s]=n}}const eh=["Webkit","Moz","ms"],Ca={};function R0(t,e){const n=Ca[e];if(n)return n;let s=Qt(e);if(s!=="filter"&&s in t)return Ca[e]=s;s=wo(s);for(let r=0;r<eh.length;r++){const i=eh[r]+s;if(i in t)return Ca[e]=i}return e}const th="http://www.w3.org/1999/xlink";function D0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(th,e.slice(6,e.length)):t.setAttributeNS(th,e,n);else{const i=xy(e);n==null||i&&!rd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function N0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=rd(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ys(t,e,n,s){t.addEventListener(e,n,s)}function k0(t,e,n,s){t.removeEventListener(e,n,s)}const nh=Symbol("_vei");function O0(t,e,n,s,r=null){const i=t[nh]||(t[nh]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=L0(e);if(s){const c=i[e]=F0(s,r);ys(t,a,c,l)}else o&&(k0(t,a,o,l),i[e]=void 0)}}const sh=/(?:Once|Passive|Capture)$/;function L0(t){let e;if(sh.test(t)){e={};let s;for(;s=t.match(sh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let Sa=0;const P0=Promise.resolve(),M0=()=>Sa||(P0.then(()=>Sa=0),Sa=Date.now());function F0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ot($0(s,n.value),e,5,[s])};return n.value=t,n.attached=M0(),n}function $0(t,e){if(z(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const rh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,V0=(t,e,n,s,r,i,o,a,l)=>{const c=r==="svg";e==="class"?S0(t,s,c):e==="style"?x0(t,n,s):mo(e)?Yl(e)||O0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U0(t,e,s,c))?N0(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),D0(t,e,s,c))};function U0(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&rh(e)&&Z(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return rh(e)&&Ue(n)?!1:e in t}const ih=t=>{const e=t.props["onUpdate:modelValue"]||!1;return z(e)?n=>ki(e,n):e};function B0(t){t.target.composing=!0}function oh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ta=Symbol("_assign"),j0={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Ta]=ih(r);const i=s||r.props&&r.props.type==="number";ys(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Qa(a)),t[Ta](a)}),n&&ys(t,"change",()=>{t.value=t.value.trim()}),e||(ys(t,"compositionstart",B0),ys(t,"compositionend",oh),ys(t,"change",oh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t[Ta]=ih(i),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?Qa(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},q0=He({patchProp:V0},b0);let ah;function H0(){return ah||(ah=e0(q0))}const z0=(...t)=>{const e=H0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=G0(s);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,K0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function K0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function G0(t){return Ue(t)?document.querySelector(t):t}var W0=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ip;const xo=t=>ip=t,op=Symbol();function ol(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var vr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vr||(vr={}));function Q0(){const t=ad(!0),e=t.run(()=>os({}));let n=[],s=[];const r=ac({install(i){xo(r),r._a=i,i.provide(op,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!W0?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const ap=()=>{};function lh(t,e,n,s=ap){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&ld()&&Dy(r),r}function gs(t,...e){t.slice().forEach(n=>{n(...e)})}const Y0=t=>t();function al(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];ol(r)&&ol(s)&&t.hasOwnProperty(n)&&!Ne(s)&&!bn(s)?t[n]=al(r,s):t[n]=s}return t}const J0=Symbol();function X0(t){return!ol(t)||!t.hasOwnProperty(J0)}const{assign:gn}=Object;function Z0(t){return!!(Ne(t)&&t.effect)}function ev(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Id(n.state.value[t]);return gn(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=ac(Tt(()=>{xo(n);const g=n._s.get(t);return o[f].call(g,g)})),h),{}))}return l=lp(t,c,e,n,s,!0),l}function lp(t,e,n={},s,r,i){let o;const a=gn({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],g;const m=s.state.value[t];!i&&!m&&(s.state.value[t]={}),os({});let y;function S(ne){let se;c=u=!1,typeof ne=="function"?(ne(s.state.value[t]),se={type:vr.patchFunction,storeId:t,events:g}):(al(s.state.value[t],ne),se={type:vr.patchObject,payload:ne,storeId:t,events:g});const Oe=y=Symbol();uc().then(()=>{y===Oe&&(c=!0)}),u=!0,gs(h,se,s.state.value[t])}const I=i?function(){const{state:se}=n,Oe=se?se():{};this.$patch(Je=>{gn(Je,Oe)})}:ap;function D(){o.stop(),h=[],f=[],s._s.delete(t)}function P(ne,se){return function(){xo(s);const Oe=Array.from(arguments),Je=[],vt=[];function Ct(he){Je.push(he)}function Vn(he){vt.push(he)}gs(f,{args:Oe,name:ne,store:re,after:Ct,onError:Vn});let St;try{St=se.apply(this&&this.$id===t?this:re,Oe)}catch(he){throw gs(vt,he),he}return St instanceof Promise?St.then(he=>(gs(Je,he),he)).catch(he=>(gs(vt,he),Promise.reject(he))):(gs(Je,St),St)}}const Q={_p:s,$id:t,$onAction:lh.bind(null,f),$patch:S,$reset:I,$subscribe(ne,se={}){const Oe=lh(h,ne,se.detached,()=>Je()),Je=o.run(()=>Ts(()=>s.state.value[t],vt=>{(se.flush==="sync"?u:c)&&ne({storeId:t,type:vr.direct,events:g},vt)},gn({},l,se)));return Oe},$dispose:D},re=is(Q);s._s.set(t,re);const Ie=(s._a&&s._a.runWithContext||Y0)(()=>s._e.run(()=>(o=ad()).run(e)));for(const ne in Ie){const se=Ie[ne];if(Ne(se)&&!Z0(se)||bn(se))i||(m&&X0(se)&&(Ne(se)?se.value=m[ne]:al(se,m[ne])),s.state.value[t][ne]=se);else if(typeof se=="function"){const Oe=P(ne,se);Ie[ne]=Oe,a.actions[ne]=se}}return gn(re,Ie),gn(ue(re),Ie),Object.defineProperty(re,"$state",{get:()=>s.state.value[t],set:ne=>{S(se=>{gn(se,ne)})}}),s._p.forEach(ne=>{gn(re,o.run(()=>ne({store:re,app:s._a,pinia:s,options:a})))}),m&&i&&n.hydrate&&n.hydrate(re.$state,m),c=!0,u=!0,re}function tv(t,e,n){let s,r;const i=typeof e=="function";s=t,r=i?n:e;function o(a,l){const c=W1();return a=a||(c?Lt(op,null):null),a&&xo(a),a=ip,a._s.has(s)||(i?lp(s,e,r,a):ev(s,r,a)),a._s.get(s)}return o.$id=s,o}function Jr(t){{t=ue(t);const e={};for(const n in t){const s=t[n];(Ne(s)||bn(s))&&(e[n]=s1(t,n))}return e}}function cp(t,e){return function(){return t.apply(e,arguments)}}const{toString:nv}=Object.prototype,{getPrototypeOf:yc}=Object,Ro=(t=>e=>{const n=nv.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zt=t=>(t=t.toLowerCase(),e=>Ro(e)===t),Do=t=>e=>typeof e===t,{isArray:Gs}=Array,Nr=Do("undefined");function sv(t){return t!==null&&!Nr(t)&&t.constructor!==null&&!Nr(t.constructor)&&xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const up=Zt("ArrayBuffer");function rv(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&up(t.buffer),e}const iv=Do("string"),xt=Do("function"),hp=Do("number"),No=t=>t!==null&&typeof t=="object",ov=t=>t===!0||t===!1,$i=t=>{if(Ro(t)!=="object")return!1;const e=yc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},av=Zt("Date"),lv=Zt("File"),cv=Zt("Blob"),uv=Zt("FileList"),hv=t=>No(t)&&xt(t.pipe),fv=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xt(t.append)&&((e=Ro(t))==="formdata"||e==="object"&&xt(t.toString)&&t.toString()==="[object FormData]"))},dv=Zt("URLSearchParams"),pv=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Gs(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function fp(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const dp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pp=t=>!Nr(t)&&t!==dp;function ll(){const{caseless:t}=pp(this)&&this||{},e={},n=(s,r)=>{const i=t&&fp(e,r)||r;$i(e[i])&&$i(s)?e[i]=ll(e[i],s):$i(s)?e[i]=ll({},s):Gs(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Xr(arguments[s],n);return e}const gv=(t,e,n,{allOwnKeys:s}={})=>(Xr(e,(r,i)=>{n&&xt(r)?t[i]=cp(r,n):t[i]=r},{allOwnKeys:s}),t),mv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yv=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vv=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&yc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wv=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_v=t=>{if(!t)return null;if(Gs(t))return t;let e=t.length;if(!hp(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ev=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yc(Uint8Array)),bv=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Cv=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Sv=Zt("HTMLFormElement"),Tv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),ch=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Av=Zt("RegExp"),gp=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Xr(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},Iv=t=>{gp(t,(e,n)=>{if(xt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(xt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xv=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Gs(t)?s(t):s(String(t).split(e)),n},Rv=()=>{},Dv=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Aa="abcdefghijklmnopqrstuvwxyz",uh="0123456789",mp={DIGIT:uh,ALPHA:Aa,ALPHA_DIGIT:Aa+Aa.toUpperCase()+uh},Nv=(t=16,e=mp.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function kv(t){return!!(t&&xt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ov=t=>{const e=new Array(10),n=(s,r)=>{if(No(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Gs(s)?[]:{};return Xr(s,(o,a)=>{const l=n(o,r+1);!Nr(l)&&(i[a]=l)}),e[r]=void 0,i}}return s};return n(t,0)},Lv=Zt("AsyncFunction"),Pv=t=>t&&(No(t)||xt(t))&&xt(t.then)&&xt(t.catch),_={isArray:Gs,isArrayBuffer:up,isBuffer:sv,isFormData:fv,isArrayBufferView:rv,isString:iv,isNumber:hp,isBoolean:ov,isObject:No,isPlainObject:$i,isUndefined:Nr,isDate:av,isFile:lv,isBlob:cv,isRegExp:Av,isFunction:xt,isStream:hv,isURLSearchParams:dv,isTypedArray:Ev,isFileList:uv,forEach:Xr,merge:ll,extend:gv,trim:pv,stripBOM:mv,inherits:yv,toFlatObject:vv,kindOf:Ro,kindOfTest:Zt,endsWith:wv,toArray:_v,forEachEntry:bv,matchAll:Cv,isHTMLForm:Sv,hasOwnProperty:ch,hasOwnProp:ch,reduceDescriptors:gp,freezeMethods:Iv,toObjectSet:xv,toCamelCase:Tv,noop:Rv,toFiniteNumber:Dv,findKey:fp,global:dp,isContextDefined:pp,ALPHABET:mp,generateString:Nv,isSpecCompliantForm:kv,toJSONObject:Ov,isAsyncFn:Lv,isThenable:Pv};function le(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}_.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yp=le.prototype,vp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vp[t]={value:t}});Object.defineProperties(le,vp);Object.defineProperty(yp,"isAxiosError",{value:!0});le.from=(t,e,n,s,r,i)=>{const o=Object.create(yp);return _.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Mv=null;function cl(t){return _.isPlainObject(t)||_.isArray(t)}function wp(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function hh(t,e,n){return t?t.concat(e).map(function(r,i){return r=wp(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function Fv(t){return _.isArray(t)&&!t.some(cl)}const $v=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function ko(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!_.isUndefined(S[y])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(_.isDate(m))return m.toISOString();if(!l&&_.isBlob(m))throw new le("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(m)||_.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,S){let I=m;if(m&&!S&&typeof m=="object"){if(_.endsWith(y,"{}"))y=s?y:y.slice(0,-2),m=JSON.stringify(m);else if(_.isArray(m)&&Fv(m)||(_.isFileList(m)||_.endsWith(y,"[]"))&&(I=_.toArray(m)))return y=wp(y),I.forEach(function(P,Q){!(_.isUndefined(P)||P===null)&&e.append(o===!0?hh([y],Q,i):o===null?y:y+"[]",c(P))}),!1}return cl(m)?!0:(e.append(hh(S,y,i),c(m)),!1)}const h=[],f=Object.assign($v,{defaultVisitor:u,convertValue:c,isVisitable:cl});function g(m,y){if(!_.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),_.forEach(m,function(I,D){(!(_.isUndefined(I)||I===null)&&r.call(e,I,_.isString(D)?D.trim():D,y,f))===!0&&g(I,y?y.concat(D):[D])}),h.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return g(t),e}function fh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function vc(t,e){this._pairs=[],t&&ko(t,this,e)}const _p=vc.prototype;_p.append=function(e,n){this._pairs.push([e,n])};_p.toString=function(e){const n=e?function(s){return e.call(this,s,fh)}:fh;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Vv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ep(t,e,n){if(!e)return t;const s=n&&n.encode||Vv,r=n&&n.serialize;let i;if(r?i=r(e,n):i=_.isURLSearchParams(e)?e.toString():new vc(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class dh{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(s){s!==null&&e(s)})}}const bp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uv=typeof URLSearchParams<"u"?URLSearchParams:vc,Bv=typeof FormData<"u"?FormData:null,jv=typeof Blob<"u"?Blob:null,qv={isBrowser:!0,classes:{URLSearchParams:Uv,FormData:Bv,Blob:jv},protocols:["http","https","file","blob","url","data"]},Cp=typeof window<"u"&&typeof document<"u",Hv=(t=>Cp&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),zv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cp,hasStandardBrowserEnv:Hv,hasStandardBrowserWebWorkerEnv:zv},Symbol.toStringTag,{value:"Module"})),Ht={...Kv,...qv};function Gv(t,e){return ko(t,new Ht.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Ht.isNode&&_.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Wv(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qv(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function Sp(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&_.isArray(r)?r.length:o,l?(_.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!_.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&_.isArray(r[o])&&(r[o]=Qv(r[o])),!a)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(s,r)=>{e(Wv(s),r,n,0)}),n}return null}function Yv(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Zr={transitional:bp,adapter:["xhr","http"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=_.isObject(e);if(i&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return r?JSON.stringify(Sp(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Gv(e,this.formSerializer).toString();if((a=_.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ko(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),Yv(e)):e}],transformResponse:[function(e){const n=this.transitional||Zr.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&_.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{Zr.headers[t]={}});const Jv=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xv=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&Jv[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},ph=Symbol("internals");function sr(t){return t&&String(t).trim().toLowerCase()}function Vi(t){return t===!1||t==null?t:_.isArray(t)?t.map(Vi):String(t)}function Zv(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const ew=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ia(t,e,n,s,r){if(_.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!_.isString(e)){if(_.isString(s))return e.indexOf(s)!==-1;if(_.isRegExp(s))return s.test(e)}}function tw(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function nw(t,e){const n=_.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class Rt{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,l,c){const u=sr(l);if(!u)throw new Error("header name must be a non-empty string");const h=_.findKey(r,u);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=Vi(a))}const o=(a,l)=>_.forEach(a,(c,u)=>i(c,u,l));return _.isPlainObject(e)||e instanceof this.constructor?o(e,n):_.isString(e)&&(e=e.trim())&&!ew(e)?o(Xv(e),n):e!=null&&i(n,e,s),this}get(e,n){if(e=sr(e),e){const s=_.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return Zv(r);if(_.isFunction(n))return n.call(this,r,s);if(_.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sr(e),e){const s=_.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Ia(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=sr(o),o){const a=_.findKey(s,o);a&&(!n||Ia(s,s[a],a,n))&&(delete s[a],r=!0)}}return _.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Ia(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return _.forEach(this,(r,i)=>{const o=_.findKey(s,i);if(o){n[o]=Vi(r),delete n[i];return}const a=e?tw(i):String(i).trim();a!==i&&delete n[i],n[a]=Vi(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&_.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[ph]=this[ph]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=sr(o);s[a]||(nw(r,o),s[a]=!0)}return _.isArray(e)?e.forEach(i):i(e),this}}Rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Rt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});_.freezeMethods(Rt);function xa(t,e){const n=this||Zr,s=e||n,r=Rt.from(s.headers);let i=s.data;return _.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Tp(t){return!!(t&&t.__CANCEL__)}function ei(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(ei,le,{__CANCEL__:!0});function sw(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const rw=Ht.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];_.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_.isString(s)&&o.push("path="+s),_.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iw(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ow(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ap(t,e){return t&&!iw(e)?ow(t,e):e}const aw=Ht.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(o){const a=_.isString(o)?r(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function lw(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cw(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[i];o||(o=c),n[r]=l,s[r]=c;let h=i,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),c-o<e)return;const g=u&&c-u;return g?Math.round(f*1e3/g):void 0}}function gh(t,e){let n=0;const s=cw(50,250);return r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,l=s(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const uw=typeof XMLHttpRequest<"u",hw=uw&&function(t){return new Promise(function(n,s){let r=t.data;const i=Rt.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(_.isFormData(r)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((u=i.getContentType())!==!1){const[y,...S]=u?u.split(";").map(I=>I.trim()).filter(Boolean):[];i.setContentType([y||"multipart/form-data",...S].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(y+":"+S))}const f=Ap(t.baseURL,t.url);h.open(t.method.toUpperCase(),Ep(f,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function g(){if(!h)return;const y=Rt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:y,config:t,request:h};sw(function(P){n(P),c()},function(P){s(P),c()},I),h=null}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(s(new le("Request aborted",le.ECONNABORTED,t,h)),h=null)},h.onerror=function(){s(new le("Network Error",le.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const I=t.transitional||bp;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),s(new le(S,I.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,h)),h=null},Ht.hasStandardBrowserEnv&&(a&&_.isFunction(a)&&(a=a(t)),a||a!==!1&&aw(f))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&rw.read(t.xsrfCookieName);y&&i.set(t.xsrfHeaderName,y)}r===void 0&&i.setContentType(null),"setRequestHeader"in h&&_.forEach(i.toJSON(),function(S,I){h.setRequestHeader(I,S)}),_.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",gh(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",gh(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=y=>{h&&(s(!y||y.type?new ei(null,t,h):y),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const m=lw(f);if(m&&Ht.protocols.indexOf(m)===-1){s(new le("Unsupported protocol "+m+":",le.ERR_BAD_REQUEST,t));return}h.send(r||null)})},ul={http:Mv,xhr:hw};_.forEach(ul,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mh=t=>`- ${t}`,fw=t=>_.isFunction(t)||t===null||t===!1,Ip={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!fw(n)&&(s=ul[(o=String(n)).toLowerCase()],s===void 0))throw new le(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(mh).join(`
`):" "+mh(i[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:ul};function Ra(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ei(null,t)}function yh(t){return Ra(t),t.headers=Rt.from(t.headers),t.data=xa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ip.getAdapter(t.adapter||Zr.adapter)(t).then(function(s){return Ra(t),s.data=xa.call(t,t.transformResponse,s),s.headers=Rt.from(s.headers),s},function(s){return Tp(s)||(Ra(t),s&&s.response&&(s.response.data=xa.call(t,t.transformResponse,s.response),s.response.headers=Rt.from(s.response.headers))),Promise.reject(s)})}const vh=t=>t instanceof Rt?{...t}:t;function Ls(t,e){e=e||{};const n={};function s(c,u,h){return _.isPlainObject(c)&&_.isPlainObject(u)?_.merge.call({caseless:h},c,u):_.isPlainObject(u)?_.merge({},u):_.isArray(u)?u.slice():u}function r(c,u,h){if(_.isUndefined(u)){if(!_.isUndefined(c))return s(void 0,c,h)}else return s(c,u,h)}function i(c,u){if(!_.isUndefined(u))return s(void 0,u)}function o(c,u){if(_.isUndefined(u)){if(!_.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,h){if(h in e)return s(c,u);if(h in t)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(vh(c),vh(u),!0)};return _.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||r,f=h(t[u],e[u],u);_.isUndefined(f)&&h!==a||(n[u]=f)}),n}const xp="1.6.8",wc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wc[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const wh={};wc.transitional=function(e,n,s){function r(i,o){return"[Axios v"+xp+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new le(r(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!wh[o]&&(wh[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function dw(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new le("option "+i+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const hl={assertOptions:dw,validators:wc},dn=hl.validators;class Jn{constructor(e){this.defaults=e,this.interceptors={request:new dh,response:new dh}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ls(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&hl.assertOptions(s,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),r!=null&&(_.isFunction(r)?n.paramsSerializer={serialize:r}:hl.assertOptions(r,{encode:dn.function,serialize:dn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&_.merge(i.common,i[n.method]);i&&_.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Rt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!l){const m=[yh.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let g=n;for(h=0;h<f;){const m=a[h++],y=a[h++];try{g=m(g)}catch(S){y.call(this,S);break}}try{u=yh.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Ls(this.defaults,e);const n=Ap(e.baseURL,e.url);return Ep(n,e.params,e.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(e){Jn.prototype[e]=function(n,s){return this.request(Ls(s||{},{method:e,url:n,data:(s||{}).data}))}});_.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(Ls(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Jn.prototype[e]=n(),Jn.prototype[e+"Form"]=n(!0)});class _c{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new ei(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new _c(function(r){e=r}),cancel:e}}}function pw(t){return function(n){return t.apply(null,n)}}function gw(t){return _.isObject(t)&&t.isAxiosError===!0}const fl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fl).forEach(([t,e])=>{fl[e]=t});function Rp(t){const e=new Jn(t),n=cp(Jn.prototype.request,e);return _.extend(n,Jn.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Rp(Ls(t,r))},n}const Le=Rp(Zr);Le.Axios=Jn;Le.CanceledError=ei;Le.CancelToken=_c;Le.isCancel=Tp;Le.VERSION=xp;Le.toFormData=ko;Le.AxiosError=le;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=pw;Le.isAxiosError=gw;Le.mergeConfig=Ls;Le.AxiosHeaders=Rt;Le.formToJSON=t=>Sp(_.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=Ip.getAdapter;Le.HttpStatusCode=fl;Le.default=Le;let bi;const mw=new Uint8Array(16);function yw(){if(!bi&&(bi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bi(mw)}const Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function vw(t,e=0){return Ge[t[e+0]]+Ge[t[e+1]]+Ge[t[e+2]]+Ge[t[e+3]]+"-"+Ge[t[e+4]]+Ge[t[e+5]]+"-"+Ge[t[e+6]]+Ge[t[e+7]]+"-"+Ge[t[e+8]]+Ge[t[e+9]]+"-"+Ge[t[e+10]]+Ge[t[e+11]]+Ge[t[e+12]]+Ge[t[e+13]]+Ge[t[e+14]]+Ge[t[e+15]]}const ww=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_h={randomUUID:ww};function Eh(t,e,n){if(_h.randomUUID&&!e&&!t)return _h.randomUUID();t=t||{};const s=t.random||(t.rng||yw)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,vw(s)}var bh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},_w=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),s.push(n[u],n[h],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_w(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new Ew;const f=i<<2|a>>4;if(s.push(f),c!==64){const g=a<<4&240|c>>2;if(s.push(g),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(t){const e=Dp(t);return Np.encodeByteArray(e,!0)},Ji=function(t){return bw(t).replace(/\./g,"")},Cw=function(t){try{return Np.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=()=>Sw().__FIREBASE_DEFAULTS__,Aw=()=>{if(typeof process>"u"||typeof bh>"u")return;const t=bh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Iw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cw(t[1]);return e&&JSON.parse(e)},kp=()=>{try{return Tw()||Aw()||Iw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xw=t=>{var e,n;return(n=(e=kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rw=t=>{const e=xw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Op=()=>{var t;return(t=kp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ji(JSON.stringify(n)),Ji(JSON.stringify(o)),""].join(".")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Lw,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lp.prototype.create)}}class Lp{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Pw(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ws(r,a,s)}}function Pw(t,e){return t.replace(Mw,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Mw=/\{\$([^}]+)}/g;function dl(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Ch(i)&&Ch(o)){if(!dl(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Ch(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){return t&&t._delegate?t._delegate:t}class kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Dw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vw(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qn){return this.instances.has(e)}getOptions(e=qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$w(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qn){return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $w(t){return t===qn?void 0:t}function Vw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const Bw={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},jw=pe.INFO,qw={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},Hw=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=qw[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=jw,this._logHandler=Hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const zw=(t,e)=>e.some(n=>t instanceof n);let Sh,Th;function Kw(){return Sh||(Sh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gw(){return Th||(Th=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mp=new WeakMap,pl=new WeakMap,Fp=new WeakMap,Da=new WeakMap,Ec=new WeakMap;function Ww(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Sn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mp.set(n,t)}).catch(()=>{}),Ec.set(e,t),e}function Qw(t){if(pl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pl.set(t,e)}let gl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yw(t){gl=t(gl)}function Jw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Na(this),e,...n);return Fp.set(s,e.sort?e.sort():[e]),Sn(s)}:Gw().includes(t)?function(...e){return t.apply(Na(this),e),Sn(Mp.get(this))}:function(...e){return Sn(t.apply(Na(this),e))}}function Xw(t){return typeof t=="function"?Jw(t):(t instanceof IDBTransaction&&Qw(t),zw(t,Kw())?new Proxy(t,gl):t)}function Sn(t){if(t instanceof IDBRequest)return Ww(t);if(Da.has(t))return Da.get(t);const e=Xw(t);return e!==t&&(Da.set(t,e),Ec.set(e,t)),e}const Na=t=>Ec.get(t);function Zw(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Sn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Sn(o.result),l.oldVersion,l.newVersion,Sn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e_=["get","getKey","getAll","getAllKeys","count"],t_=["put","add","delete","clear"],ka=new Map;function Ah(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ka.get(e))return ka.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=t_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||e_.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ka.set(e,i),i}Yw(t=>({...t,get:(e,n,s)=>Ah(e,n)||t.get(e,n,s),has:(e,n)=>!!Ah(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ml="@firebase/app",Ih="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Pp("@firebase/app"),r_="@firebase/app-compat",i_="@firebase/analytics-compat",o_="@firebase/analytics",a_="@firebase/app-check-compat",l_="@firebase/app-check",c_="@firebase/auth",u_="@firebase/auth-compat",h_="@firebase/database",f_="@firebase/database-compat",d_="@firebase/functions",p_="@firebase/functions-compat",g_="@firebase/installations",m_="@firebase/installations-compat",y_="@firebase/messaging",v_="@firebase/messaging-compat",w_="@firebase/performance",__="@firebase/performance-compat",E_="@firebase/remote-config",b_="@firebase/remote-config-compat",C_="@firebase/storage",S_="@firebase/storage-compat",T_="@firebase/firestore",A_="@firebase/firestore-compat",I_="firebase",x_="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]",R_={[ml]:"fire-core",[r_]:"fire-core-compat",[o_]:"fire-analytics",[i_]:"fire-analytics-compat",[l_]:"fire-app-check",[a_]:"fire-app-check-compat",[c_]:"fire-auth",[u_]:"fire-auth-compat",[h_]:"fire-rtdb",[f_]:"fire-rtdb-compat",[d_]:"fire-fn",[p_]:"fire-fn-compat",[g_]:"fire-iid",[m_]:"fire-iid-compat",[y_]:"fire-fcm",[v_]:"fire-fcm-compat",[w_]:"fire-perf",[__]:"fire-perf-compat",[E_]:"fire-rc",[b_]:"fire-rc-compat",[C_]:"fire-gcs",[S_]:"fire-gcs-compat",[T_]:"fire-fst",[A_]:"fire-fst-compat","fire-js":"fire-js",[I_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Map,vl=new Map;function D_(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zi(t){const e=t.name;if(vl.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;vl.set(e,t);for(const n of Xi.values())D_(n,t);return!0}function N_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tn=new Lp("app","Firebase",k_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=x_;function $p(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:yl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Tn.create("bad-app-name",{appName:String(r)});if(n||(n=Op()),!n)throw Tn.create("no-options");const i=Xi.get(r);if(i){if(dl(n,i.options)&&dl(s,i.config))return i;throw Tn.create("duplicate-app",{appName:r})}const o=new Uw(r);for(const l of vl.values())o.addComponent(l);const a=new O_(n,s,o);return Xi.set(r,a),a}function P_(t=yl){const e=Xi.get(t);if(!e&&t===yl&&Op())return $p();if(!e)throw Tn.create("no-app",{appName:t});return e}function Is(t,e,n){var s;let r=(s=R_[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Zi(new kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firebase-heartbeat-database",F_=1,Or="firebase-heartbeat-store";let Oa=null;function Vp(){return Oa||(Oa=Zw(M_,F_,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Or)}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),Oa}async function $_(t){try{return await(await Vp()).transaction(Or).objectStore(Or).get(Up(t))}catch(e){if(e instanceof Ws)Zn.warn(e.message);else{const n=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function xh(t,e){try{const s=(await Vp()).transaction(Or,"readwrite");await s.objectStore(Or).put(e,Up(t)),await s.done}catch(n){if(n instanceof Ws)Zn.warn(n.message);else{const s=Tn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(s.message)}}}function Up(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=1024,U_=30*24*60*60*1e3;class B_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=U_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rh(),{heartbeatsToSend:n,unsentEntries:s}=j_(this._heartbeatsCache.heartbeats),r=Ji(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Rh(){return new Date().toISOString().substring(0,10)}function j_(t,e=V_){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Dh(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Dh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class q_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return xh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return xh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dh(t){return Ji(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t){Zi(new kr("platform-logger",e=>new n_(e),"PRIVATE")),Zi(new kr("heartbeat",e=>new B_(e),"PRIVATE")),Is(ml,Ih,t),Is(ml,Ih,"esm2017"),Is("fire-js","")}H_("");var z_="firebase",K_="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(z_,K_,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,bc=bc||{},Y=G_||self;function Oo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Lo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function W_(t){return Object.prototype.hasOwnProperty.call(t,La)&&t[La]||(t[La]=++Q_)}var La="closure_uid_"+(1e9*Math.random()>>>0),Q_=0;function Y_(t,e,n){return t.call.apply(t.bind,arguments)}function J_(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=Y_:rt=J_,rt.apply(null,arguments)}function Ci(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Pn(){this.s=this.s,this.o=this.o}var X_=0;Pn.prototype.s=!1;Pn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),X_!=0)&&W_(this)};Pn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Cc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Nh(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Oo(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var Z_=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Lr(t){return/^[\s\xa0]*$/.test(t)}function Po(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function qt(t){return Po().indexOf(t)!=-1}function Sc(t){return Sc[" "](t),t}Sc[" "]=function(){};function eE(t,e){var n=GE;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tE=qt("Opera"),Ps=qt("Trident")||qt("MSIE"),jp=qt("Edge"),wl=jp||Ps,qp=qt("Gecko")&&!(Po().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),nE=Po().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge");function Hp(){var t=Y.document;return t?t.documentMode:void 0}var _l;e:{var Pa="",Ma=function(){var t=Po();if(qp)return/rv:([^\);]+)(\)|;)/.exec(t);if(jp)return/Edge\/([\d\.]+)/.exec(t);if(Ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nE)return/WebKit\/(\S+)/.exec(t);if(tE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ma&&(Pa=Ma?Ma[1]:""),Ps){var Fa=Hp();if(Fa!=null&&Fa>parseFloat(Pa)){_l=String(Fa);break e}}_l=Pa}var El;if(Y.document&&Ps){var kh=Hp();El=kh||parseInt(_l,10)||void 0}else El=void 0;var sE=El;function Pr(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qp){e:{try{Sc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pr.$.h.call(this)}}Ke(Pr,it);var rE={2:"touch",3:"pen",4:"mouse"};Pr.prototype.h=function(){Pr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mo="closure_listenable_"+(1e6*Math.random()|0),iE=0;function oE(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++iE,this.fa=this.ia=!1}function Fo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Tc(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function aE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zp(t){const e={};for(const n in t)e[n]=t[n];return e}const Oh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kp(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Oh.length;i++)n=Oh[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function $o(t){this.src=t,this.g={},this.h=0}$o.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Cl(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oE(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function bl(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Bp(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Fo(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cl(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Ac="closure_lm_"+(1e6*Math.random()|0),$a={};function Gp(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Gp(t,e[i],n,s,r);return null}return n=Yp(n),t&&t[Mo]?t.O(e,n,Lo(s)?!!s.capture:!!s,r):lE(t,e,n,!1,s,r)}function lE(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Lo(r)?!!r.capture:!!r,a=xc(t);if(a||(t[Ac]=a=new $o(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=cE(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Z_||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Qp(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cE(){function t(n){return e.call(t.src,t.listener,n)}const e=uE;return t}function Wp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Wp(t,e[i],n,s,r);else s=Lo(s)?!!s.capture:!!s,n=Yp(n),t&&t[Mo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Cl(i,n,s,r),-1<n&&(Fo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=xc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cl(e,n,s,r)),(n=-1<t?e[t]:null)&&Ic(n))}function Ic(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Mo])bl(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Qp(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=xc(e))?(bl(n,t),n.h==0&&(n.src=null,e[Ac]=null)):Fo(t)}}}function Qp(t){return t in $a?$a[t]:$a[t]="on"+t}function uE(t,e){if(t.fa)t=!0;else{e=new Pr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Ic(t),t=n.call(s,e)}return t}function xc(t){return t=t[Ac],t instanceof $o?t:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(t){return typeof t=="function"?t:(t[Va]||(t[Va]=function(e){return t.handleEvent(e)}),t[Va])}function ze(){Pn.call(this),this.i=new $o(this),this.S=this,this.J=null}Ke(ze,Pn);ze.prototype[Mo]=!0;ze.prototype.removeEventListener=function(t,e,n,s){Wp(this,t,e,n,s)};function Ye(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var r=e;e=new it(s,t),Kp(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=Si(o,s,!0,e)&&r}if(o=e.g=t,r=Si(o,s,!0,e)&&r,r=Si(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=Si(o,s,!1,e)&&r}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Fo(n[s]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ze.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Si(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bl(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Rc=Y.JSON.stringify;class hE{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fE(){var t=Dc;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dE{constructor(){this.h=this.g=null}add(e,n){const s=Jp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Jp=new hE(()=>new pE,t=>t.reset());class pE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gE(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function mE(t){Y.setTimeout(()=>{throw t},0)}let Mr,Fr=!1,Dc=new dE,Xp=()=>{const t=Y.Promise.resolve(void 0);Mr=()=>{t.then(yE)}};var yE=()=>{for(var t;t=fE();){try{t.h.call(t.g)}catch(n){mE(n)}var e=Jp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fr=!1};function Vo(t,e){ze.call(this),this.h=t||1,this.g=e||Y,this.j=rt(this.qb,this),this.l=Date.now()}Ke(Vo,ze);k=Vo.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(Nc(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){Vo.$.N.call(this),Nc(this),delete this.g};function kc(t,e,n){if(typeof t=="function")n&&(t=rt(t,n));else if(t&&typeof t.handleEvent=="function")t=rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function Zp(t){t.g=kc(()=>{t.g=null,t.i&&(t.i=!1,Zp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vE extends Pn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(t){Pn.call(this),this.h=t,this.g={}}Ke($r,Pn);var Lh=[];function eg(t,e,n,s){Array.isArray(n)||(n&&(Lh[0]=n.toString()),n=Lh);for(var r=0;r<n.length;r++){var i=Gp(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function tg(t){Tc(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ic(e)},t),t.g={}}$r.prototype.N=function(){$r.$.N.call(this),tg(this)};$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uo(){this.g=!0}Uo.prototype.Ea=function(){this.g=!1};function wE(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function _E(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Es(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bE(t,n)+(s?" "+s:"")})}function EE(t,e){t.info(function(){return"TIMEOUT: "+e})}Uo.prototype.info=function(){};function bE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Rc(n)}catch{return e}}var as={},Ph=null;function Bo(){return Ph=Ph||new ze}as.Ta="serverreachability";function ng(t){it.call(this,as.Ta,t)}Ke(ng,it);function Vr(t){const e=Bo();Ye(e,new ng(e))}as.STAT_EVENT="statevent";function sg(t,e){it.call(this,as.STAT_EVENT,t),this.stat=e}Ke(sg,it);function ht(t){const e=Bo();Ye(e,new sg(e,t))}as.Ua="timingevent";function rg(t,e){it.call(this,as.Ua,t),this.size=e}Ke(rg,it);function ti(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var jo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ig={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oc(){}Oc.prototype.h=null;function Mh(t){return t.h||(t.h=t.i())}function og(){}var ni={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lc(){it.call(this,"d")}Ke(Lc,it);function Pc(){it.call(this,"c")}Ke(Pc,it);var Sl;function qo(){}Ke(qo,Oc);qo.prototype.g=function(){return new XMLHttpRequest};qo.prototype.i=function(){return{}};Sl=new qo;function si(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new $r(this),this.P=CE,t=wl?125:void 0,this.V=new Vo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ag}function ag(){this.i=null,this.g="",this.h=!1}var CE=45e3,Tl={},eo={};k=si.prototype;k.setTimeout=function(t){this.P=t};function Al(t,e,n){t.L=1,t.v=zo(on(e)),t.s=n,t.S=!0,lg(t,null)}function lg(t,e){t.G=Date.now(),ri(t),t.A=on(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),mg(n.i,"t",s),t.C=0,n=t.l.J,t.h=new ag,t.g=Fg(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vE(rt(t.Pa,t,t.g),t.O)),eg(t.U,t.g,"readystatechange",t.nb),e=t.I?zp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vr(),wE(t.j,t.u,t.A,t.m,t.W,t.s)}k.nb=function(t){t=t.target;const e=this.M;e&&zt(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{const u=zt(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||wl||this.g&&(this.h.h||this.g.ja()||Uh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Vr(3):Vr(2)),Ho(this);var n=this.g.da();this.ca=n;t:if(cg(this)){var s=Uh(this.g);t="";var r=s.length,i=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),wr(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,_E(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lr(a)){var c=a;break t}}c=null}if(n=c)Es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Il(this,n);else{this.i=!1,this.o=3,ht(12),Kn(this),wr(this);break e}}this.S?(ug(this,u,o),wl&&this.i&&u==3&&(eg(this.U,this.V,"tick",this.mb),this.V.start())):(Es(this.j,this.m,o,null),Il(this,o)),u==4&&Kn(this),this.i&&!this.J&&(u==4?Og(this.l,this):(this.i=!1,ri(this)))}else HE(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ht(12)):(this.o=0,ht(13)),Kn(this),wr(this)}}}catch{}finally{}};function cg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ug(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=SE(t,n),r==eo){e==4&&(t.o=4,ht(14),s=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Tl){t.o=4,ht(15),Es(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Es(t.j,t.m,r,null),Il(t,r);cg(t)&&r!=eo&&r!=Tl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ht(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bc(e),e.M=!0,ht(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),wr(t))}k.mb=function(){if(this.g){var t=zt(this.g),e=this.g.ja();this.C<e.length&&(Ho(this),ug(this,t,e),this.i&&t!=4&&ri(this))}};function SE(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?eo:(n=Number(e.substring(n,s)),isNaN(n)?Tl:(s+=1,s+n>e.length?eo:(e=e.slice(s,s+n),t.C=s+n,e)))}k.cancel=function(){this.J=!0,Kn(this)};function ri(t){t.Y=Date.now()+t.P,hg(t,t.P)}function hg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ti(rt(t.lb,t),e)}function Ho(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(EE(this.j,this.A),this.L!=2&&(Vr(),ht(17)),Kn(this),this.o=2,wr(this)):hg(this,this.Y-t)};function wr(t){t.l.H==0||t.J||Og(t.l,t)}function Kn(t){Ho(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nc(t.V),tg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Il(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xl(n.i,t))){if(!t.K&&xl(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)so(n),Wo(n);else break e;Uc(n),ht(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ti(rt(n.ib,n),6e3));if(1>=wg(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gn(n,11)}else if((t.K||n.g==t)&&so(n),!Lr(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const m=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Mc(i,i.h),i.h=null))}if(s.F){const y=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(s.Da=y,Ce(s.I,s.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Mg(s,s.J?s.pa:null,s.Y),o.K){_g(s.i,o);var a=o,l=s.L;l&&a.setTimeout(l),a.B&&(Ho(a),ri(a)),s.g=o}else Ng(s);0<n.j.length&&Qo(n)}else c[0]!="stop"&&c[0]!="close"||Gn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Gn(n,7):Vc(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Vr(4)}catch{}}function TE(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Oo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function AE(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Oo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function fg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Oo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AE(t),s=TE(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Xn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xn){this.h=t.h,to(this,t.j),this.s=t.s,this.g=t.g,no(this,t.m),this.l=t.l;var e=t.i,n=new Ur;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fh(this,n),this.o=t.o}else t&&(e=String(t).match(dg))?(this.h=!1,to(this,e[1]||"",!0),this.s=cr(e[2]||""),this.g=cr(e[3]||"",!0),no(this,e[4]),this.l=cr(e[5]||"",!0),Fh(this,e[6]||"",!0),this.o=cr(e[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Xn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ur(e,$h,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ur(e,$h,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ur(n,n.charAt(0)=="/"?DE:RE,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ur(n,kE)),t.join("")};function on(t){return new Xn(t)}function to(t,e,n){t.j=n?cr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function no(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fh(t,e,n){e instanceof Ur?(t.i=e,OE(t.i,t.h)):(n||(e=ur(e,NE)),t.i=new Ur(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function zo(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ur(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,xE),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xE(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $h=/[#\/\?@]/g,RE=/[#\?:]/g,DE=/[#\?]/g,NE=/[#\?@]/g,kE=/#/g;function Ur(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mn(t){t.g||(t.g=new Map,t.h=0,t.i&&IE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=Ur.prototype;k.add=function(t,e){Mn(this),this.i=null,t=Qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pg(t,e){Mn(t),e=Qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gg(t,e){return Mn(t),e=Qs(t,e),t.g.has(e)}k.forEach=function(t,e){Mn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};k.ta=function(){Mn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};k.Z=function(t){Mn(this);let e=[];if(typeof t=="string")gg(this,t)&&(e=e.concat(this.g.get(Qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return Mn(this),this.i=null,t=Qs(this,t),gg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mg(t,e,n){pg(t,e),0<n.length&&(t.i=null,t.g.set(Qs(t,e),Cc(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OE(t,e){e&&!t.j&&(Mn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(pg(this,s),mg(this,r,n))},t)),t.j=e}var LE=class{constructor(t,e){this.g=t,this.map=e}};function yg(t){this.l=t||PE,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PE=10;function vg(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function wg(t){return t.h?1:t.g?t.g.size:0}function xl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Mc(t,e){t.g?t.g.add(e):t.h=e}function _g(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yg.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Eg(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Cc(t.i)}var ME=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function FE(){this.g=new ME}function $E(t,e,n){const s=n||"";try{fg(t,function(r,i){let o=r;Lo(r)&&(o=Rc(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function VE(t,e){const n=new Uo;if(Y.Image){const s=new Image;s.onload=Ci(Ti,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ci(Ti,n,s,"TestLoadImage: error",!1,e),s.onabort=Ci(Ti,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ci(Ti,n,s,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Ti(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function ii(t){this.l=t.fc||null,this.j=t.ob||!1}Ke(ii,Oc);ii.prototype.g=function(){return new Ko(this.l,this.j)};ii.prototype.i=function(t){return function(){return t}}({});function Ko(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Ko,ze);var Fc=0;k=Ko.prototype;k.open=function(t,e){if(this.readyState!=Fc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Br(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=Fc};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bg(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bg(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oi(this):Br(this),this.readyState==3&&bg(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,oi(this))};k.Ya=function(t){this.g&&(this.response=t,oi(this))};k.ka=function(){this.g&&oi(this)};function oi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Br(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Br(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UE=Y.JSON.parse;function ke(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cg,this.L=this.M=!1}Ke(ke,ze);var Cg="",BE=/^https?$/i,jE=["POST","PUT"];k=ke.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sl.g(),this.C=this.u?Mh(this.u):Mh(Sl),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Vh(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=Y.FormData&&t instanceof Y.FormData,!(0<=Bp(jE,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ag(this),0<this.B&&((this.L=qE(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=kc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vh(this,i)}};function qE(t){return Ps&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof bc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function Vh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Sg(t),Go(t)}function Sg(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),Go(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Go(this,!0)),ke.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Tg(this):this.kb())};k.kb=function(){Tg(this)};function Tg(t){if(t.h&&typeof bc<"u"&&(!t.C[1]||zt(t)!=4||t.da()!=2)){if(t.v&&zt(t)==4)kc(t.La,0,t);else if(Ye(t,"readystatechange"),zt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var r=String(t.I).match(dg)[1]||null;!r&&Y.self&&Y.self.location&&(r=Y.self.location.protocol.slice(0,-1)),s=!BE.test(r?r.toLowerCase():"")}n=s}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var i=2<zt(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Sg(t)}}finally{Go(t)}}}}function Go(t,e){if(t.g){Ag(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=s}catch{}}}function Ag(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function zt(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UE(e)}};function Uh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Cg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function HE(t){const e={};t=(t.g&&2<=zt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Lr(t[s]))continue;var n=gE(t[s]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[r]||[];e[r]=i,i.push(n)}aE(e,function(s){return s.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ig(t){let e="";return Tc(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function $c(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Ig(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ce(t,e,n))}function rr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xg(t){this.Ga=0,this.j=[],this.l=new Uo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rr("baseRetryDelayMs",5e3,t),this.hb=rr("retryDelaySeedMs",1e4,t),this.eb=rr("forwardChannelMaxRetries",2,t),this.xa=rr("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yg(t&&t.concurrentRequestLimit),this.Ja=new FE,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=xg.prototype;k.ra=8;k.H=1;function Vc(t){if(Rg(t),t.H==3){var e=t.W++,n=on(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),ai(t,n),e=new si(t,t.l,e),e.L=2,e.v=zo(on(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=Fg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ri(e)}Pg(t)}function Wo(t){t.g&&(Bc(t),t.g.cancel(),t.g=null)}function Rg(t){Wo(t),t.u&&(Y.clearTimeout(t.u),t.u=null),so(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Qo(t){if(!vg(t.i)&&!t.m){t.m=!0;var e=t.Na;Mr||Xp(),Fr||(Mr(),Fr=!0),Dc.add(e,t),t.C=0}}function zE(t,e){return wg(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ti(rt(t.Na,t,e),Lg(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new si(this,this.l,t);let i=this.s;if(this.U&&(i?(i=zp(i),Kp(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Dg(this,r,e),n=on(this.I),Ce(n,"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),ai(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Ig(i)))+"&"+e:this.o&&$c(n,this.o,i)),Mc(this.i,r),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),r.aa=!0,Al(r,n,null)):Al(r,n,e),this.H=2}}else this.H==3&&(t?Bh(this,t):this.j.length==0||vg(this.i)||Bh(this))};function Bh(t,e){var n;e?n=e.m:n=t.W++;const s=on(t.I);Ce(s,"SID",t.K),Ce(s,"RID",n),Ce(s,"AID",t.V),ai(t,s),t.o&&t.s&&$c(s,t.o,t.s),n=new si(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Dg(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Mc(t.i,n),Al(n,s,e)}function ai(t,e){t.na&&Tc(t.na,function(n,s){Ce(e,s,n)}),t.h&&fg({},function(n,s){Ce(e,s,n)})}function Dg(t,e,n){n=Math.min(t.j.length,n);var s=t.h?rt(t.h.Va,t.h,t):null;e:{var r=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=i,0>c)i=Math.max(0,r[l].g-100),a=!1;else try{$E(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function Ng(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mr||Xp(),Fr||(Mr(),Fr=!0),Dc.add(e,t),t.A=0}}function Uc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ti(rt(t.Ma,t),Lg(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,kg(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ti(rt(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ht(10),Wo(this),kg(this))};function Bc(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function kg(t){t.g=new si(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=on(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),ai(t,e),t.o&&t.s&&$c(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=zo(on(e)),n.s=null,n.S=!0,lg(n,t)}k.ib=function(){this.v!=null&&(this.v=null,Wo(this),Uc(this),ht(19))};function so(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function Og(t,e){var n=null;if(t.g==e){so(t),Bc(t),t.g=null;var s=2}else if(xl(t.i,e))n=e.F,_g(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=Bo(),Ye(s,new rg(s,n)),Qo(t)}else Ng(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(s==1&&zE(t,e)||s==2&&Uc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function Lg(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=rt(t.pb,t);n||(n=new Xn("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||to(n,"https"),zo(n)),VE(n.toString(),s)}else ht(2);t.H=0,t.h&&t.h.za(e),Pg(t),Rg(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ht(2)):(this.l.info("Failed to ping google.com"),ht(1))};function Pg(t){if(t.H=0,t.ma=[],t.h){const e=Eg(t.i);(e.length!=0||t.j.length!=0)&&(Nh(t.ma,e),Nh(t.ma,t.j),t.i.i.length=0,Cc(t.j),t.j.length=0),t.h.ya()}}function Mg(t,e,n){var s=n instanceof Xn?on(n):new Xn(n);if(s.g!="")e&&(s.g=e+"."+s.g),no(s,s.m);else{var r=Y.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new Xn(null);s&&to(i,s),e&&(i.g=e),r&&no(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Ce(s,n,e),Ce(s,"VER",t.ra),ai(t,s),s}function Fg(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ke(new ii({ob:!0})):new ke(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function $g(){}k=$g.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function ro(){if(Ps&&!(10<=Number(sE)))throw Error("Environmental error: no available transport.")}ro.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){ze.call(this),this.g=new xg(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Lr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ys(this)}Ke(bt,ze);bt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Mg(t,null,t.Y),Qo(t)};bt.prototype.close=function(){Vc(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rc(t),t=n);e.j.push(new LE(e.fb++,t)),e.H==3&&Qo(e)};bt.prototype.N=function(){this.g.h=null,delete this.j,Vc(this.g),delete this.g,bt.$.N.call(this)};function Vg(t){Lc.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(Vg,Lc);function Ug(){Pc.call(this),this.status=1}Ke(Ug,Pc);function Ys(t){this.g=t}Ke(Ys,$g);Ys.prototype.Ba=function(){Ye(this.g,"a")};Ys.prototype.Aa=function(t){Ye(this.g,new Vg(t))};Ys.prototype.za=function(t){Ye(this.g,new Ug)};Ys.prototype.ya=function(){Ye(this.g,"b")};function KE(){this.blockSize=-1}function Pt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke(Pt,KE);Pt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ua(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}Pt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)Ua(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){Ua(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){Ua(this,s),r=0;break}}this.h=r,this.i+=e};Pt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function ve(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var GE={};function jc(t){return-128<=t&&128>t?eE(t,function(e){return new ve([e|0],0>e?-1:0)}):new ve([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return xs;if(0>t)return Qe(Kt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Rl;return new ve(e,0)}function Bg(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qe(Bg(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),s=xs,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=Kt(Math.pow(e,i)),s=s.R(i).add(Kt(o))):(s=s.R(n),s=s.add(Kt(o)))}return s}var Rl=4294967296,xs=jc(0),Dl=jc(1),jh=jc(16777216);k=ve.prototype;k.ea=function(){if(At(this))return-Qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Rl+s)*e,e*=Rl}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(nn(this))return"0";if(At(this))return"-"+Qe(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,s="";;){var r=oo(n,e).g;n=io(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,nn(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function nn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}k.X=function(t){return t=io(this,t),At(t)?-1:nn(t)?0:1};function Qe(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new ve(n,~t.h).add(Dl)}k.abs=function(){return At(this)?Qe(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new ve(n,n[n.length-1]&-2147483648?-1:0)};function io(t,e){return t.add(Qe(e))}k.R=function(t){if(nn(this)||nn(t))return xs;if(At(this))return At(t)?Qe(this).R(Qe(t)):Qe(Qe(this).R(t));if(At(t))return Qe(this.R(Qe(t)));if(0>this.X(jh)&&0>t.X(jh))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*s+2*r]+=o*l,Ai(n,2*s+2*r),n[2*s+2*r+1]+=i*l,Ai(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,Ai(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,Ai(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new ve(n,0)};function Ai(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ir(t,e){this.g=t,this.h=e}function oo(t,e){if(nn(e))throw Error("division by zero");if(nn(t))return new ir(xs,xs);if(At(t))return e=oo(Qe(t),e),new ir(Qe(e.g),Qe(e.h));if(At(e))return e=oo(t,Qe(e)),new ir(Qe(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dl,s=e;0>=s.X(t);)n=qh(n),s=qh(s);var r=ms(n,1),i=ms(s,1);for(s=ms(s,2),n=ms(n,2);!nn(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=ms(s,1),n=ms(n,1)}return e=io(t,r.R(e)),new ir(r,e)}for(r=xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=Kt(n),o=i.R(e);At(o)||0<o.X(t);)n-=s,i=Kt(n),o=i.R(e);nn(i)&&(i=Dl),r=r.add(i),t=io(t,o)}return new ir(r,t)}k.gb=function(t){return oo(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new ve(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new ve(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new ve(n,this.h^t.h)};function qh(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new ve(n,t.h)}function ms(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ve(r,t.h)}ro.prototype.createWebChannel=ro.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;jo.NO_ERROR=0;jo.TIMEOUT=8;jo.HTTP_ERROR=6;ig.COMPLETE="complete";og.EventType=ni;ni.OPEN="a";ni.CLOSE="b";ni.ERROR="c";ni.MESSAGE="d";ze.prototype.listen=ze.prototype.O;ke.prototype.listenOnce=ke.prototype.P;ke.prototype.getLastError=ke.prototype.Sa;ke.prototype.getLastErrorCode=ke.prototype.Ia;ke.prototype.getStatus=ke.prototype.da;ke.prototype.getResponseJson=ke.prototype.Wa;ke.prototype.getResponseText=ke.prototype.ja;ke.prototype.send=ke.prototype.ha;ke.prototype.setWithCredentials=ke.prototype.Oa;Pt.prototype.digest=Pt.prototype.l;Pt.prototype.reset=Pt.prototype.reset;Pt.prototype.update=Pt.prototype.j;ve.prototype.add=ve.prototype.add;ve.prototype.multiply=ve.prototype.R;ve.prototype.modulo=ve.prototype.gb;ve.prototype.compare=ve.prototype.X;ve.prototype.toNumber=ve.prototype.ea;ve.prototype.toString=ve.prototype.toString;ve.prototype.getBits=ve.prototype.D;ve.fromNumber=Kt;ve.fromString=Bg;var WE=function(){return new ro},QE=function(){return Bo()},Ba=jo,YE=ig,JE=as,Hh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},XE=ii,Ii=og,ZE=ke,eb=Pt,Rs=ve;const zh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Pp("@firebase/firestore");function Kh(){return es.logLevel}function V(t,...e){if(es.logLevel<=pe.DEBUG){const n=e.map(qc);es.debug(`Firestore (${Js}): ${t}`,...n)}}function an(t,...e){if(es.logLevel<=pe.ERROR){const n=e.map(qc);es.error(`Firestore (${Js}): ${t}`,...n)}}function Ms(t,...e){if(es.logLevel<=pe.WARN){const n=e.map(qc);es.warn(`Firestore (${Js}): ${t}`,...n)}}function qc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw an(e),new Error(e)}function Te(t,e){t||W()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sb{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Te(typeof s.accessToken=="string"),new jg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new et(e)}}class rb{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ib{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new rb(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.T=n.token,new ob(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=lb(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function fe(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ve(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Ve(0,0))}static max(){return new X(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s){n===void 0?n=0:n>e.length&&W(),s===void 0?s=e.length-n:s>e.length-n&&W(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends jr{construct(e,n,s){return new Se(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new M(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends jr{construct(e,n,s){return new st(e,n,s)}static isValidIdentifier(e){return cb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new M(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new M(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new M(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(Se.fromString(e))}static fromName(e){return new q(Se.fromString(e).popFirst(5))}static empty(){return new q(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Se(e.slice()))}}function ub(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=X.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new Rn(r,q.empty(),e)}function hb(t){return new Rn(t.readTime,t.key,-1)}class Rn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rn(X.min(),q.empty(),-1)}static max(){return new Rn(X.max(),q.empty(),-1)}}function fb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==db)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,s)=>{n(e)})}static reject(e){return new A((n,s)=>{s(e)})}static waitFor(e){return new A((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=A.resolve(!1);for(const s of e)n=n.next(r=>r?A.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new A((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new A((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function ci(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Hc.ct=-1;function Yo(t){return t==null}function ao(t){return t===0&&1/t==-1/0}function gb(t){return typeof t=="number"&&Number.isInteger(t)&&!ao(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xi(this.root,e,this.comparator,!0)}}class xi{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??We.RED,this.left=r??We.EMPTY,this.right=i??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new We(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return We.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,s,r){return this}insert(t,e,n){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wh(this.data.getIterator())}getIteratorFrom(e){return new Wh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class Wh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Et([])}unionWith(e){let n=new ot(st.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Et(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new zg("Invalid base64 string: "+r):r}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dn(t){if(Te(!!t),typeof t=="string"){let e=0;const n=mb.exec(t);if(Te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kc(t){const e=t.mapValue.fields.__previous_value__;return zc(e)?Kc(e):e}function qr(t){const e=Dn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,s,r,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Hr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zc(t)?4:vb(t)?9007199254740991:10:W()}function Jt(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qr(t).isEqual(qr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Dn(s.timestampValue),o=Dn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ts(s.bytesValue).isEqual(ts(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Me(s.geoPointValue.latitude)===Me(r.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Me(s.integerValue)===Me(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Me(s.doubleValue),o=Me(r.doubleValue);return i===o?ao(i)===ao(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],Jt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Gh(i)!==Gh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Jt(i[a],o[a])))return!1;return!0}(t,e);default:return W()}}function zr(t,e){return(t.values||[]).find(n=>Jt(n,e))!==void 0}function $s(t,e){if(t===e)return 0;const n=ns(t),s=ns(e);if(n!==s)return fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Me(r.integerValue||r.doubleValue),a=Me(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Qh(t.timestampValue,e.timestampValue);case 4:return Qh(qr(t),qr(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=ts(r),a=ts(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=fe(o[l],a[l]);if(c!==0)return c}return fe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=fe(Me(r.latitude),Me(i.latitude));return o!==0?o:fe(Me(r.longitude),Me(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=$s(o[l],a[l]);if(c)return c}return fe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Ri.mapValue&&i===Ri.mapValue)return 0;if(r===Ri.mapValue)return 1;if(i===Ri.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=fe(a[u],c[u]);if(h!==0)return h;const f=$s(o[a[u]],l[c[u]]);if(f!==0)return f}return fe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw W()}}function Qh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Dn(t),s=Dn(e),r=fe(n.seconds,s.seconds);return r!==0?r:fe(n.nanos,s.nanos)}function Vs(t){return Nl(t)}function Nl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Dn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ts(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Nl(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Nl(s.fields[a])}`;return i+"}"}(t.mapValue):W();var e,n}function Yh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kl(t){return!!t&&"integerValue"in t}function Gc(t){return!!t&&"arrayValue"in t}function Jh(t){return!!t&&"nullValue"in t}function Xh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ui(t){return!!t&&"mapValue"in t}function _r(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_r(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_r(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.value=e}static empty(){return new mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ui(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_r(n)}setAll(e){let n=st.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=_r(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Ui(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Ui(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ls(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new mt(_r(this.value))}}function Kg(t){const e=[];return ls(t.fields,(n,s)=>{const r=new st([n]);if(Ui(s)){const i=Kg(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Et(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,X.min(),X.min(),X.min(),mt.empty(),0)}static newFoundDocument(e,n,s,r){return new tt(e,1,n,X.min(),s,r,0)}static newNoDocument(e,n){return new tt(e,2,n,X.min(),X.min(),mt.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,X.min(),X.min(),mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.position=e,this.inclusive=n}}function Zh(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=q.comparator(q.fromName(o.referenceValue),n.key):s=$s(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function ef(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n="asc"){this.field=e,this.dir=n}}function wb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{}class Fe extends Gg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Eb(e,n,s):n==="array-contains"?new Sb(e,s):n==="in"?new Tb(e,s):n==="not-in"?new Ab(e,s):n==="array-contains-any"?new Ib(e,s):new Fe(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bb(e,s):new Cb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mt extends Gg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Mt(e,n)}matches(e){return Wg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Wg(t){return t.op==="and"}function Qg(t){return _b(t)&&Wg(t)}function _b(t){for(const e of t.filters)if(e instanceof Mt)return!1;return!0}function Ol(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(Qg(t))return t.filters.map(e=>Ol(e)).join(",");{const e=t.filters.map(n=>Ol(n)).join(",");return`${t.op}(${e})`}}function Yg(t,e){return t instanceof Fe?function(n,s){return s instanceof Fe&&n.op===s.op&&n.field.isEqual(s.field)&&Jt(n.value,s.value)}(t,e):t instanceof Mt?function(n,s){return s instanceof Mt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&Yg(i,s.filters[o]),!0):!1}(t,e):void W()}function Jg(t){return t instanceof Fe?function(e){return`${e.field.canonicalString()} ${e.op} ${Vs(e.value)}`}(t):t instanceof Mt?function(e){return e.op.toString()+" {"+e.getFilters().map(Jg).join(" ,")+"}"}(t):"Filter"}class Eb extends Fe{constructor(e,n,s){super(e,n,s),this.key=q.fromName(s.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class bb extends Fe{constructor(e,n){super(e,"in",n),this.keys=Xg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cb extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=Xg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>q.fromName(s.referenceValue))}class Sb extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gc(n)&&zr(n.arrayValue,this.value)}}class Tb extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zr(this.value.arrayValue,n)}}class Ab extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(zr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zr(this.value.arrayValue,n)}}class Ib extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function tf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new xb(t,e,n,s,r,i,o)}function Wc(t){const e=te(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ol(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Yo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Vs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Vs(s)).join(",")),e.dt=n}return e.dt}function Qc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ef(t.startAt,e.startAt)&&ef(t.endAt,e.endAt)}function Ll(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function Rb(t,e,n,s,r,i,o,a){return new ui(t,e,n,s,r,i,o,a)}function Jo(t){return new ui(t)}function nf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Yc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function em(t){return t.collectionGroup!==null}function Ds(t){const e=te(t);if(e.wt===null){e.wt=[];const n=Yc(e),s=Zg(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Er(n)),e.wt.push(new Er(st.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Er(st.keyField(),i))}}}return e.wt}function ln(t){const e=te(t);if(!e._t)if(e.limitType==="F")e._t=tf(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ds(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Er(i.field,o))}const s=e.endAt?new lo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new lo(e.startAt.position,e.startAt.inclusive):null;e._t=tf(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function Pl(t,e){e.getFirstInequalityField(),Yc(t);const n=t.filters.concat([e]);return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ml(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xo(t,e){return Qc(ln(t),ln(e))&&t.limitType===e.limitType}function tm(t){return`${Wc(ln(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Jg(s)).join(", ")}]`),Yo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Vs(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Vs(s)).join(",")),`Target(${n})`}(ln(t))}; limitType=${t.limitType})`}function Zo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):q.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Ds(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Zh(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ds(n),s)||n.endAt&&!function(r,i,o){const a=Zh(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ds(n),s))}(t,e)}function Db(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nm(t){return(e,n)=>{let s=!1;for(const r of Ds(t)){const i=Nb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Nb(t,e,n){const s=t.field.isKeyField()?q.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?$s(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Hg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new De(q.comparator);function cn(){return kb}const sm=new De(q.comparator);function hr(...t){let e=sm;for(const n of t)e=e.insert(n.key,n);return e}function rm(t){let e=sm;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Wn(){return br()}function im(){return br()}function br(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ob=new De(q.comparator),Lb=new ot(q.comparator);function oe(...t){let e=Lb;for(const n of t)e=e.add(n);return e}const Pb=new ot(fe);function Mb(){return Pb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ao(e)?"-0":e}}function am(t){return{integerValue:""+t}}function Fb(t,e){return gb(e)?am(e):om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this._=void 0}}function $b(t,e,n){return t instanceof co?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&zc(r)&&(r=Kc(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Us?cm(t,e):t instanceof Kr?um(t,e):function(s,r){const i=lm(s,r),o=sf(i)+sf(s.gt);return kl(i)&&kl(s.gt)?am(o):om(s.serializer,o)}(t,e)}function Vb(t,e,n){return t instanceof Us?cm(t,e):t instanceof Kr?um(t,e):n}function lm(t,e){return t instanceof uo?kl(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class co extends ea{}class Us extends ea{constructor(e){super(),this.elements=e}}function cm(t,e){const n=hm(e);for(const s of t.elements)n.some(r=>Jt(r,s))||n.push(s);return{arrayValue:{values:n}}}class Kr extends ea{constructor(e){super(),this.elements=e}}function um(t,e){let n=hm(e);for(const s of t.elements)n=n.filter(r=>!Jt(r,s));return{arrayValue:{values:n}}}class uo extends ea{constructor(e,n){super(),this.serializer=e,this.gt=n}}function sf(t){return Me(t.integerValue||t.doubleValue)}function hm(t){return Gc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.field=e,this.transform=n}}function Bb(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Us&&s instanceof Us||n instanceof Kr&&s instanceof Kr?Fs(n.elements,s.elements,Jt):n instanceof uo&&s instanceof uo?Jt(n.gt,s.gt):n instanceof co&&s instanceof co}(t.transform,e.transform)}class jb{constructor(e,n){this.version=e,this.transformResults=n}}class Gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gt}static exists(e){return new Gt(void 0,e)}static updateTime(e){return new Gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ta{}function fm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pm(t.key,Gt.none()):new hi(t.key,t.data,Gt.none());{const n=t.data,s=mt.empty();let r=new ot(st.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Fn(t.key,s,new Et(r.toArray()),Gt.none())}}function qb(t,e,n){t instanceof hi?function(s,r,i){const o=s.value.clone(),a=of(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(s,r,i){if(!Bi(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=of(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(dm(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Cr(t,e,n,s){return t instanceof hi?function(r,i,o,a){if(!Bi(r.precondition,i))return o;const l=r.value.clone(),c=af(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof Fn?function(r,i,o,a){if(!Bi(r.precondition,i))return o;const l=af(r.fieldTransforms,a,i),c=i.data;return c.setAll(dm(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Bi(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function Hb(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=lm(s.transform,r||null);i!=null&&(n===null&&(n=mt.empty()),n.set(s.field,i))}return n||null}function rf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Fs(n,s,(r,i)=>Bb(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hi extends ta{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fn extends ta{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function of(t,e,n){const s=new Map;Te(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,Vb(o,a,n[r]))}return s}function af(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,$b(i,o,e))}return s}class pm extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zb extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&qb(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=im();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=fm(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,s)=>rf(n,s))&&Fs(this.baseMutations,e.baseMutations,(n,s)=>rf(n,s))}}class Jc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Te(e.mutations.length===s.length);let r=Ob;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Jc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ae;function Qb(t){switch(t){default:return W();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function gm(t){if(t===void 0)return an("GRPC error has no .code"),b.UNKNOWN;switch(t){case Pe.OK:return b.OK;case Pe.CANCELLED:return b.CANCELLED;case Pe.UNKNOWN:return b.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return b.INTERNAL;case Pe.UNAVAILABLE:return b.UNAVAILABLE;case Pe.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Pe.NOT_FOUND:return b.NOT_FOUND;case Pe.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Pe.ABORTED:return b.ABORTED;case Pe.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Pe.DATA_LOSS:return b.DATA_LOSS;default:return W()}}(ae=Pe||(Pe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Di}static getOrCreateInstance(){return Di===null&&(Di=new Xc),Di}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Di=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Rs([4294967295,4294967295],0);function lf(t){const e=Yb().encode(t),n=new eb;return n.update(e),new Uint8Array(n.digest())}function cf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,s],0),new Rs([r,i],0)]}class Zc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fr(`Invalid padding: ${n}`);if(s<0)throw new fr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new fr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Rs.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(Rs.fromNumber(s)));return r.compare(Jb)===1&&(r=new Rs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=lf(e),[s,r]=cf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Zc(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=lf(e),[s,r]=cf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class fr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,fi.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new na(X.min(),r,new De(fe),cn(),oe())}}class fi{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fi(s,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class mm{constructor(e,n){this.targetId=e,this.Vt=n}}class ym{constructor(e,n,s=lt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class uf{constructor(){this.St=0,this.Dt=ff(),this.Ct=lt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),s=oe();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:W()}}),new fi(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=ff()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cn(),this.zt=hf(),this.Wt=new De(fe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(Ll(o))if(r===0){const a=new q(o.path);this.Yt(s,a,tt.newNoDocument(a,X.min()))}else Te(r===1);else{const a=this.ie(s);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=Xc.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,g,m,y,S,I;const D={localCacheCount:u,existenceFilterCount:h.count},P=h.unchangedNames;return P&&(D.bloomFilter={applied:c===0,hashCount:(f=P==null?void 0:P.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(y=(m=(g=P==null?void 0:P.bits)===null||g===void 0?void 0:g.bitmap)===null||m===void 0?void 0:m.length)!==null&&y!==void 0?y:0,padding:(I=(S=P==null?void 0:P.bits)===null||S===void 0?void 0:S.padding)!==null&&I!==void 0?I:0}),D}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=ts(i).toUint8Array()}catch(u){if(u instanceof zg)return Ms("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new Zc(l,o,a)}catch(u){return Ms(u instanceof fr?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Ll(a.target)){const l=new q(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,tt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=oe();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new na(e,n,this.Wt,this.jt,s);return this.jt=cn(),this.zt=hf(),this.Wt=new De(fe),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new uf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ot(fe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new uf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function hf(){return new De(q.comparator)}function ff(){return new De(q.comparator)}const Zb={asc:"ASCENDING",desc:"DESCENDING"},eC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tC={and:"AND",or:"OR"};class nC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $l(t,e){return t.useProto3Json||Yo(e)?e:{value:e}}function ho(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sC(t,e){return ho(t,e.toTimestamp())}function Wt(t){return Te(!!t),X.fromTimestamp(function(e){const n=Dn(e);return new Ve(n.seconds,n.nanos)}(t))}function eu(t,e){return function(n){return new Se(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function wm(t){const e=Se.fromString(t);return Te(Cm(e)),e}function Vl(t,e){return eu(t.databaseId,e.path)}function ja(t,e){const n=wm(e);if(n.get(1)!==t.databaseId.projectId)throw new M(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(_m(n))}function Ul(t,e){return eu(t.databaseId,e)}function rC(t){const e=wm(t);return e.length===4?Se.emptyPath():_m(e)}function Bl(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _m(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function df(t,e,n){return{name:Vl(t,e),fields:n.value.mapValue.fields}}function iC(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Te(c===void 0||typeof c=="string"),lt.fromBase64String(c||"")):(Te(c===void 0||c instanceof Uint8Array),lt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?b.UNKNOWN:gm(l.code);return new M(c,l.message||"")}(o);n=new ym(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ja(t,s.document.name),i=Wt(s.document.updateTime),o=s.document.createTime?Wt(s.document.createTime):X.min(),a=new mt({mapValue:{fields:s.document.fields}}),l=tt.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new ji(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ja(t,s.document),i=s.readTime?Wt(s.readTime):X.min(),o=tt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new ji([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ja(t,s.document),i=s.removedTargetIds||[];n=new ji([],i,r,null)}else{if(!("filter"in e))return W();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new Wb(r,i),a=s.targetId;n=new mm(a,o)}}return n}function oC(t,e){let n;if(e instanceof hi)n={update:df(t,e.key,e.value)};else if(e instanceof pm)n={delete:Vl(t,e.key)};else if(e instanceof Fn)n={update:df(t,e.key,e.data),updateMask:gC(e.fieldMask)};else{if(!(e instanceof zb))return W();n={verify:Vl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof co)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Us)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uo)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw W()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:sC(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W()}(t,e.precondition)),n}function aC(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Wt(s.updateTime):Wt(r);return i.isEqual(X.min())&&(i=Wt(r)),new jb(i,s.transformResults||[])}(n,e))):[]}function lC(t,e){return{documents:[Ul(t,e.path)]}}function cC(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ul(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ul(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return bm(Mt.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:vs(u.field),direction:fC(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=$l(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function uC(t){let e=rC(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Te(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=Em(u);return h instanceof Mt&&Qg(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Er(ws(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Yo(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new lo(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new lo(f,h)}(n.endAt)),Rb(e,r,o,i,a,"F",l,c)}function hC(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Em(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ws(e.unaryFilter.field);return Fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ws(e.unaryFilter.field);return Fe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ws(e.unaryFilter.field);return Fe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ws(e.unaryFilter.field);return Fe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return Fe.create(ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Mt.create(e.compositeFilter.filters.map(n=>Em(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function fC(t){return Zb[t]}function dC(t){return eC[t]}function pC(t){return tC[t]}function vs(t){return{fieldPath:t.canonicalString()}}function ws(t){return st.fromServerFormat(t.fieldPath)}function bm(t){return t instanceof Fe?function(e){if(e.op==="=="){if(Xh(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NAN"}};if(Jh(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Xh(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NAN"}};if(Jh(e.value))return{unaryFilter:{field:vs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(e.field),op:dC(e.op),value:e.value}}}(t):t instanceof Mt?function(e){const n=e.getFilters().map(s=>bm(s));return n.length===1?n[0]:{compositeFilter:{op:pC(e.op),filters:n}}}(t):W()}function gC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Cm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,s,r,i=X.min(),o=X.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.fe=e}}function yC(t){const e=uC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ml(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.rn=new wC}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Rn.min())}updateCollectionGroup(e,n,s){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class wC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ot(Se.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ot(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bs(0)}static Mn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?A.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Cr(s.mutation,r,Et.empty(),Ve.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=oe()){const r=Wn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=hr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Wn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,oe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=cn();const o=br(),a=br();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Fn)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Cr(u.mutation,c,u.mutation.getFieldMask(),Ve.now())):o.set(c.key,Et.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new EC(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=br();let r=new De((o,a)=>o-a),i=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Et.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||oe()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=im();u.forEach(f=>{if(!i.has(f)){const g=fm(n.get(f),s.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return q.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):em(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):A.resolve(Wn());let a=-1,l=i;return o.next(c=>A.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?A.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,oe())).next(u=>({batchId:a,changes:rm(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(s=>{let r=hr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=hr();return this.indexManager.getCollectionParents(e,r).next(o=>A.forEach(o,a=>{const l=function(c,u){return new ui(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,tt.newInvalidDocument(c)))});let o=hr();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Cr(c.mutation,l,Et.empty(),Ve.now()),Zo(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Wt(s.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:yC(s.bundledQuery),readTime:Wt(s.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.overlays=new De(q.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wn();return A.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),A.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),A.resolve()}getOverlaysForCollection(e,n,s){const r=Wn(),i=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return A.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new De((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Wn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return A.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Gb(n,s));let i=this.ls.get(n);i===void 0&&(i=oe(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.fs=new ot(je.ds),this.ws=new ot(je._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new je(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new je(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new q(new Se([])),s=new je(n,e),r=new je(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new q(new Se([])),s=new je(n,e),r=new je(n,e+1);let i=oe();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new je(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class je{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return q.comparator(e.key,n.key)||fe(e.As,n.As)}static _s(e,n){return fe(e.As,n.As)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ot(je.ds)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Kb(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return A.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new je(n,0),r=new je(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),A.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ot(fe);return n.forEach(r=>{const i=new je(r,0),o=new je(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),A.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;q.isDocumentKey(i)||(i=i.child(""));const o=new je(new q(i),0);let a=new ot(fe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Te(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return A.forEach(n.mutations,r=>{const i=new je(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new je(n,0),r=this.Rs.firstAfterOrEqual(s);return A.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.Ds=e,this.docs=new De(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return A.resolve(s?s.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let s=cn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():tt.newInvalidDocument(r))}),A.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=cn();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fb(hb(u),s)<=0||(r.has(u.key)||Zo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return A.resolve(i)}getAllFromCollectionGroup(e,n,s,r){W()}Cs(e,n){return A.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new IC(this)}getSize(e){return A.resolve(this.size)}}class IC extends _C{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.persistence=e,this.xs=new Xs(n=>Wc(n),Qc),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Ns=0,this.ks=new tu,this.targetCount=0,this.Ms=Bs.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),A.waitFor(i).next(()=>r)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return A.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),A.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),A.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return A.resolve(s)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Hc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new xC(this),this.indexManager=new vC,this.remoteDocumentCache=function(s){return new AC(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new mC(n),this.qs=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new TC(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){V("MemoryPersistence","Starting transaction:",e);const r=new DC(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return A.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class DC extends pb{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.Qs=new tu,this.js=null}static zs(e){return new nu(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),A.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,s=>{const r=q.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,X.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=oe(),r=oe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new su(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(nf(n))return A.resolve(null);let s=ln(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ml(n,null,"F"),s=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=oe(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Ml(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,r){return nf(n)||r.isEqual(X.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(Kh()<=pe.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fl(n)),this.Wi(e,o,n,ub(r,-1)))})}ji(e,n){let s=new ot(nm(e));return n.forEach((r,i)=>{Zo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return Kh()<=pe.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rn.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new De(fe),this.Yi=new Xs(i=>Wc(i),Qc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function OC(t,e,n,s){return new kC(t,e,n,s)}async function Sm(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=oe();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function LC(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=A.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(m=>{const y=l.docVersions.get(g);Te(y!==null),m.version.compareTo(y)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Tm(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function PC(t,e){const n=te(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(lt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,s)),r=r.insert(h,g),function(m,y,S){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,g,u)&&a.push(n.Bs.updateTargetData(i,g))});let l=cn(),c=oe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(MC(i,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(X.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return A.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=r,i))}function MC(t,e,n){let s=oe(),r=oe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=cn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}function FC(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $C(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,A.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new _n(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function jl(t,e,n){const s=te(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ci(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function pf(t,e,n){const s=te(t);let r=X.min(),i=oe();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=te(a),h=u.Yi.get(c);return h!==void 0?A.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(s,o,ln(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:X.min(),n?i:oe())).next(a=>(VC(s,Db(e),a),{documents:a,ir:i})))}function VC(t,e,n){let s=t.Xi.get(e)||X.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class gf{constructor(){this.activeTargetIds=Mb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UC{constructor(){this.Hr=new gf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ni=null;function qa(){return Ni===null?Ni=268435456+Math.round(2147483648*Math.random()):Ni++,"0x"+Ni.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class HC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=qa(),a=this.To(e,n);V("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,r,i),this.Ao(e,a,l,s).then(c=>(V("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ms("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Js,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=jC[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=qa();return new Promise((o,a)=>{const l=new ZE;l.setWithCredentials(!0),l.listenOnce(YE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ba.NO_ERROR:const u=l.getResponseJson();V(Ze,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ba.TIMEOUT:V(Ze,`RPC '${e}' ${i} timed out`),a(new M(b.DEADLINE_EXCEEDED,"Request time out"));break;case Ba.HTTP_ERROR:const h=l.getStatus();if(V(Ze,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(y){const S=y.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(S)>=0?S:b.UNKNOWN}(g.status);a(new M(m,g.message))}else a(new M(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(b.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{V(Ze,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);V(Ze,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const r=qa(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WE(),a=QE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new XE({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=i.join("");V(Ze,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,g=!1;const m=new qC({ro:S=>{g?V(Ze,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(f||(V(Ze,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),V(Ze,`RPC '${e}' stream ${r} sending:`,S),h.send(S))},oo:()=>h.close()}),y=(S,I,D)=>{S.listen(I,P=>{try{D(P)}catch(Q){setTimeout(()=>{throw Q},0)}})};return y(h,Ii.EventType.OPEN,()=>{g||V(Ze,`RPC '${e}' stream ${r} transport opened.`)}),y(h,Ii.EventType.CLOSE,()=>{g||(g=!0,V(Ze,`RPC '${e}' stream ${r} transport closed`),m.wo())}),y(h,Ii.EventType.ERROR,S=>{g||(g=!0,Ms(Ze,`RPC '${e}' stream ${r} transport errored:`,S),m.wo(new M(b.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ii.EventType.MESSAGE,S=>{var I;if(!g){const D=S.data[0];Te(!!D);const P=D,Q=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(Q){V(Ze,`RPC '${e}' stream ${r} received error:`,Q);const re=Q.status;let K=function(ne){const se=Pe[ne];if(se!==void 0)return gm(se)}(re),Ie=Q.message;K===void 0&&(K=b.INTERNAL,Ie="Unknown error status: "+re+" with message "+Q.message),g=!0,m.wo(new M(K,Ie)),h.close()}else V(Ze,`RPC '${e}' stream ${r} received:`,D),m._o(D)}}),y(a,JE.STAT_EVENT,S=>{S.stat===Hh.PROXY?V(Ze,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Hh.NOPROXY&&V(Ze,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Ha(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){return new nC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,s,r,i,o,a,l){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Am(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(an(n.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new M(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zC extends Im{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=iC(this.serializer,e),s=function(r){if(!("targetChange"in r))return X.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?X.min():i.readTime?Wt(i.readTime):X.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Bl(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=Ll(a)?{documents:lC(r,a)}:{query:cC(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=vm(r,i.resumeToken);const l=$l(r,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(X.min())>0){o.readTime=ho(r,i.snapshotVersion.toTimestamp());const l=$l(r,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=hC(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Bl(this.serializer),n.removeTarget=e,this.Wo(n)}}class KC extends Im{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=aC(e.writeResults,e.commitTime),s=Wt(e.commitTime);return this.listener.cu(s,n)}return Te(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Bl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>oC(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new M(b.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new M(b.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(b.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class WC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(an(n),this.mu=!1):V("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{cs(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=te(a);l.vu.add(4),await di(l),l.bu.set("Unknown"),l.vu.delete(4),await ra(l)}(this))})}),this.bu=new WC(s,r)}}async function ra(t){if(cs(t))for(const e of t.Ru)await e(!0)}async function di(t){for(const e of t.Ru)await e(!1)}function xm(t,e){const n=te(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ou(n)?iu(n):Zs(n).Ko()&&ru(n,e))}function Rm(t,e){const n=te(t),s=Zs(n);n.Au.delete(e),s.Ko()&&Dm(n,e),n.Au.size===0&&(s.Ko()?s.jo():cs(n)&&n.bu.set("Unknown"))}function ru(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zs(t).su(e)}function Dm(t,e){t.Vu.qt(e),Zs(t).iu(e)}function iu(t){t.Vu=new Xb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Zs(t).start(),t.bu.gu()}function ou(t){return cs(t)&&!Zs(t).Uo()&&t.Au.size>0}function cs(t){return te(t).vu.size===0}function Nm(t){t.Vu=void 0}async function YC(t){t.Au.forEach((e,n)=>{ru(t,e)})}async function JC(t,e){Nm(t),ou(t)?(t.bu.Iu(e),iu(t)):t.bu.set("Unknown")}async function XC(t,e,n){if(t.bu.set("Online"),e instanceof ym&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fo(t,s)}else if(e instanceof ji?t.Vu.Ht(e):e instanceof mm?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(X.min()))try{const s=await Tm(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(lt.EMPTY_BYTE_STRING,c.snapshotVersion)),Dm(r,a);const u=new _n(c.target,a,l,c.sequenceNumber);ru(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){V("RemoteStore","Failed to raise snapshot:",s),await fo(t,s)}}async function fo(t,e,n){if(!ci(e))throw e;t.vu.add(1),await di(t),t.bu.set("Offline"),n||(n=()=>Tm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ra(t)})}function km(t,e){return e().catch(n=>fo(t,n,e))}async function ia(t){const e=te(t),n=Nn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZC(e);)try{const r=await FC(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,e2(e,r)}catch(r){await fo(e,r)}Om(e)&&Lm(e)}function ZC(t){return cs(t)&&t.Eu.length<10}function e2(t,e){t.Eu.push(e);const n=Nn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Om(t){return cs(t)&&!Nn(t).Uo()&&t.Eu.length>0}function Lm(t){Nn(t).start()}async function t2(t){Nn(t).hu()}async function n2(t){const e=Nn(t);for(const n of t.Eu)e.uu(n.mutations)}async function s2(t,e,n){const s=t.Eu.shift(),r=Jc.from(s,e,n);await km(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ia(t)}async function r2(t,e){e&&Nn(t).ou&&await async function(n,s){if(r=s.code,Qb(r)&&r!==b.ABORTED){const i=n.Eu.shift();Nn(n).Qo(),await km(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ia(n)}var r}(t,e),Om(t)&&Lm(t)}async function yf(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const s=cs(n);n.vu.add(3),await di(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ra(n)}async function i2(t,e){const n=te(t);e?(n.vu.delete(2),await ra(n)):e||(n.vu.add(2),await di(n),n.bu.set("Unknown"))}function Zs(t){return t.Su||(t.Su=function(e,n,s){const r=te(e);return r.fu(),new zC(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:YC.bind(null,t),ao:JC.bind(null,t),nu:XC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ou(t)?iu(t):t.bu.set("Unknown")):(await t.Su.stop(),Nm(t))})),t.Su}function Nn(t){return t.Du||(t.Du=function(e,n,s){const r=te(e);return r.fu(),new KC(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:t2.bind(null,t),ao:r2.bind(null,t),au:n2.bind(null,t),cu:s2.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ia(t)):(await t.Du.stop(),t.Eu.length>0&&(V("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new au(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(t,e){if(an("AsyncQueue",`${e}: ${t}`),ci(t))return new M(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.comparator=e?(n,s)=>e(n,s)||q.comparator(n.key,s.key):(n,s)=>q.comparator(n.key,s.key),this.keyedMap=hr(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.Cu=new De(q.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class js{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new js(e,n,Ns.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Nu=void 0,this.listeners=[]}}class a2{constructor(){this.queries=new Xs(e=>tm(e),Xo),this.onlineState="Unknown",this.ku=new Set}}async function cu(t,e){const n=te(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new o2),r)try{i.Nu=await n.onListen(s)}catch(o){const a=lu(o,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&hu(n)}async function uu(t,e){const n=te(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function l2(t,e){const n=te(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&hu(n)}function c2(t,e,n){const s=te(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function hu(t){t.ku.forEach(e=>{e.next()})}class fu{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new js(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.key=e}}class Mm{constructor(e){this.key=e}}class u2{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=nm(e),this.ec=new Ns(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new vf,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),g=Zo(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;f&&g?f.data.isEqual(g.data)?m!==y&&(s.track({type:3,doc:g}),S=!0):this.rc(f,g)||(s.track({type:2,doc:g}),S=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(a=!0)):!f&&g?(s.track({type:0,doc:g}),S=!0):f&&!g&&(s.track({type:1,doc:f}),S=!0,(l||c)&&(a=!0)),S&&(g?(o=o.add(g),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,u)=>function(h,f){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return g(h)-g(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new js(this.query,e.ec,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Mm(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Pm(s))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return js.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class h2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class f2{constructor(e){this.key=e,this.fc=!1}}class d2{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Xs(a=>tm(a),Xo),this._c=new Map,this.mc=new Set,this.gc=new De(q.comparator),this.yc=new Map,this.Ic=new tu,this.Tc={},this.Ec=new Map,this.Ac=Bs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function p2(t,e){const n=S2(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await $C(n.localStore,ln(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await g2(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&xm(n.remoteStore,o)}return r}async function g2(t,e,n,s,r){t.Rc=(h,f,g)=>async function(m,y,S,I){let D=y.view.sc(S);D.zi&&(D=await pf(m.localStore,y.query,!1).then(({documents:re})=>y.view.sc(re,D)));const P=I&&I.targetChanges.get(y.targetId),Q=y.view.applyChanges(D,m.isPrimaryClient,P);return _f(m,y.targetId,Q.cc),Q.snapshot}(t,h,f,g);const i=await pf(t.localStore,e,!0),o=new u2(e,i.ir),a=o.sc(i.documents),l=fi.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);_f(t,n,c.cc);const u=new h2(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function m2(t,e){const n=te(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!Xo(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await jl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Rm(n.remoteStore,s.targetId),ql(n,s.targetId)}).catch(li)):(ql(n,s.targetId),await jl(n.localStore,s.targetId,!0))}async function y2(t,e,n){const s=T2(t);try{const r=await function(i,o){const a=te(i),l=Ve.now(),c=o.reduce((f,g)=>f.add(g.key),oe());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=cn(),m=oe();return a.Zi.getEntries(f,c).next(y=>{g=y,g.forEach((S,I)=>{I.isValidDocument()||(m=m.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(y=>{u=y;const S=[];for(const I of o){const D=Hb(I,u.get(I.key).overlayedDocument);D!=null&&S.push(new Fn(I.key,D,Kg(D.value.mapValue),Gt.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(y=>{h=y;const S=y.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,y.batchId,S)})}).then(()=>({batchId:h.batchId,changes:rm(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new De(fe)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(s,r.batchId,n),await pi(s,r.changes),await ia(s.remoteStore)}catch(r){const i=lu(r,"Failed to persist write");n.reject(i)}}async function Fm(t,e){const n=te(t);try{const s=await PC(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Te(o.fc):r.removedDocuments.size>0&&(Te(o.fc),o.fc=!1))}),await pi(n,s,e)}catch(s){await li(s)}}function wf(t,e,n){const s=te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=te(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&hu(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function v2(t,e,n){const s=te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new De(q.comparator);o=o.insert(i,tt.newNoDocument(i,X.min()));const a=oe().add(i),l=new na(X.min(),new Map,new De(fe),o,a);await Fm(s,l),s.gc=s.gc.remove(i),s.yc.delete(e),du(s)}else await jl(s.localStore,e,!1).then(()=>ql(s,e,n)).catch(li)}async function w2(t,e){const n=te(t),s=e.batch.batchId;try{const r=await LC(n.localStore,e);Vm(n,s,null),$m(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pi(n,r)}catch(r){await li(r)}}async function _2(t,e,n){const s=te(t);try{const r=await function(i,o){const a=te(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Te(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);Vm(s,e,n),$m(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pi(s,r)}catch(r){await li(r)}}function $m(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Vm(t,e,n){const s=te(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function ql(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Um(t,s)})}function Um(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Rm(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),du(t))}function _f(t,e,n){for(const s of n)s instanceof Pm?(t.Ic.addReference(s.key,e),E2(t,s)):s instanceof Mm?(V("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Um(t,s.key)):W()}function E2(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(V("SyncEngine","New document in limbo: "+n),t.mc.add(s),du(t))}function du(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new q(Se.fromString(e)),s=t.Ac.next();t.yc.set(s,new f2(n)),t.gc=t.gc.insert(n,s),xm(t.remoteStore,new _n(ln(Jo(n.path)),s,"TargetPurposeLimboResolution",Hc.ct))}}async function pi(t,e,n){const s=te(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=su.Li(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,l){const c=te(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>A.forEach(l,h=>A.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>A.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!ci(u))throw u;V("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(h,m)}}}(s.localStore,i))}async function b2(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const s=await Sm(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(b.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pi(n,s.er)}}function C2(t,e){const n=te(t),s=n.yc.get(e);if(s&&s.fc)return oe().add(s.key);{let r=oe();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function S2(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v2.bind(null,e),e.dc.nu=l2.bind(null,e.eventManager),e.dc.Pc=c2.bind(null,e.eventManager),e}function T2(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class Ef{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sa(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OC(this.persistence,new NC,e.initialUser,this.serializer)}createPersistence(e){return new RC(nu.zs,this.serializer)}createSharedClientState(e){return new UC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class A2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new a2}createDatastore(e){const n=sa(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new HC(r));var r;return function(i,o,a,l){return new GC(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>wf(this.syncEngine,a,0),o=mf.D()?new mf:new BC,new QC(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new d2(s,r,i,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=te(e);V("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await di(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):an("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=et.UNAUTHENTICATED,this.clientId=qg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{V("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(V("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lu(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function za(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Sm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R2(t);V("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>yf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yf(e.remoteStore,i)),t._onlineComponents=e}function x2(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function R2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await za(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!x2(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await za(t,new Ef)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await za(t,new Ef);return t._offlineComponents}async function Bm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await bf(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await bf(t,new A2))),t._onlineComponents}function D2(t){return Bm(t).then(e=>e.syncEngine)}async function po(t){const e=await Bm(t),n=e.eventManager;return n.onListen=p2.bind(null,e.syncEngine),n.onUnlisten=m2.bind(null,e.syncEngine),n}function N2(t,e,n={}){const s=new rn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new pu({next:h=>{i.enqueueAndForget(()=>uu(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new M(b.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new M(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new fu(Jo(o.path),c,{includeMetadataChanges:!0,Ku:!0});return cu(r,u)}(await po(t),t.asyncQueue,e,n,s)),s.promise}function k2(t,e,n={}){const s=new rn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new pu({next:h=>{i.enqueueAndForget(()=>uu(r,u)),h.fromCache&&a.source==="server"?l.reject(new M(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new fu(o,c,{includeMetadataChanges:!0,Ku:!0});return cu(r,u)}(await po(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e,n){if(!n)throw new M(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O2(t,e,n,s){if(e===!0&&s===!0)throw new M(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sf(t){if(!q.isDocumentKey(t))throw new M(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tf(t){if(q.isDocumentKey(t))throw new M(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oa(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Dt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oa(t);throw new M(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new M(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jm((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class aa{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Af({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Af(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tb;switch(n.type){case"firstParty":return new ib(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Cf.get(e);n&&(V("ComponentProvider","Removing Datastore"),Cf.delete(e),n.terminate())}(this),Promise.resolve()}}function L2(t,e,n,s={}){var r;const i=(t=Dt(t,aa))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),s.mockUserToken){let a,l;if(typeof s.mockUserToken=="string")a=s.mockUserToken,l=et.MOCK_USER;else{a=Nw(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new M(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new et(c)}t._authCredentials=new nb(new jg(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new An(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}}class us{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class An extends us{constructor(e,n,s){super(e,n,Jo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new q(e))}withConverter(e){return new An(this.firestore,e,this._path)}}function If(t,e,...n){if(t=Yt(t),qm("collection","path",e),t instanceof aa){const s=Se.fromString(e,...n);return Tf(s),new An(t,null,s)}{if(!(t instanceof at||t instanceof An))throw new M(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Se.fromString(e,...n));return Tf(s),new An(t.firestore,null,s)}}function or(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=qg.A()),qm("doc","path",e),t instanceof aa){const s=Se.fromString(e,...n);return Sf(s),new at(t,null,new q(s))}{if(!(t instanceof at||t instanceof An))throw new M(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Se.fromString(e,...n));return Sf(s),new at(t.firestore,t instanceof An?t.converter:null,new q(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Am(this,"async_queue_retry"),this.Xc=()=>{const n=Ha();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ha();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ha();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new rn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ci(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw an("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=au.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&W()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function xf(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class ss extends aa{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new P2,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hm(this),this._firestoreClient.terminate()}}function M2(t,e){const n=typeof t=="object"?t:P_(),s=typeof t=="string"?t:"(default)",r=N_(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Rw("firestore");i&&L2(r,...i)}return r}function la(t){return t._firestoreClient||Hm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hm(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,l,c){return new yb(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jm(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new I2(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(lt.fromBase64String(e))}catch(n){throw new M(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=/^__.*__$/;class $2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new hi(e,this.data,n,this.fieldTransforms)}}class zm{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Km(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class ha{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ha(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return go(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Km(this.ca)&&F2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class V2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sa(e)}ya(e,n,s,r=!1){return new ha({ca:e,methodName:n,ga:s,path:st.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(t){const e=t._freezeSettings(),n=sa(t._databaseId);return new V2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U2(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);yu("Data must be an object, but it was:",o,s);const a=Gm(s,o);let l,c;if(i.merge)l=new Et(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Hl(e,h,n);if(!o.contains(f))throw new M(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Qm(u,f)||u.push(f)}l=new Et(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new $2(new mt(a),l,c)}class fa extends ua{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fa}}function B2(t,e,n){return new ha({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class j2 extends ua{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=B2(this,e,!0),s=this.pa.map(i=>er(i,n)),r=new Us(s);return new Ub(e.path,r)}isEqual(e){return this===e}}function q2(t,e,n,s){const r=t.ya(1,e,n);yu("Data must be an object, but it was:",r,s);const i=[],o=mt.empty();ls(s,(l,c)=>{const u=vu(e,l,n);c=Yt(c);const h=r.da(u);if(c instanceof fa)i.push(u);else{const f=er(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Et(i);return new zm(o,a,r.fieldTransforms)}function H2(t,e,n,s,r,i){const o=t.ya(1,e,n),a=[Hl(e,s,n)],l=[r];if(i.length%2!=0)throw new M(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Hl(e,i[f])),l.push(i[f+1]);const c=[],u=mt.empty();for(let f=a.length-1;f>=0;--f)if(!Qm(c,a[f])){const g=a[f];let m=l[f];m=Yt(m);const y=o.da(g);if(m instanceof fa)c.push(g);else{const S=er(m,y);S!=null&&(c.push(g),u.set(g,S))}}const h=new Et(c);return new zm(u,h,o.fieldTransforms)}function z2(t,e,n,s=!1){return er(n,t.ya(s?4:3,e))}function er(t,e){if(Wm(t=Yt(t)))return yu("Unsupported field value:",e,t),Gm(t,e);if(t instanceof ua)return function(n,s){if(!Km(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=er(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Fb(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ve.fromDate(n);return{timestampValue:ho(s.serializer,r)}}if(n instanceof Ve){const r=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ho(s.serializer,r)}}if(n instanceof gu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qs)return{bytesValue:vm(s.serializer,n._byteString)};if(n instanceof at){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eu(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${oa(n)}`)}(t,e)}function Gm(t,e){const n={};return Hg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(s,r)=>{const i=er(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Wm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof gu||t instanceof qs||t instanceof at||t instanceof ua)}function yu(t,e,n){if(!Wm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=oa(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function Hl(t,e,n){if((e=Yt(e))instanceof ca)return e._internalPath;if(typeof e=="string")return vu(t,e);throw go("Field path arguments must be of type string or ",t,!1,void 0,n)}const K2=new RegExp("[~\\*/\\[\\]]");function vu(t,e,n){if(e.search(K2)>=0)throw go(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ca(...e.split("."))._internalPath}catch{throw go(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function go(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new M(b.INVALID_ARGUMENT,a+t+l)}function Qm(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends Ym{data(){return super.data()}}function Jm(t,e){return typeof e=="string"?vu(t,e):e instanceof ca?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wu{}class W2 extends wu{}function Q2(t,e,...n){let s=[];e instanceof wu&&s.push(e),s=s.concat(n),function(r){const i=r.filter(a=>a instanceof Eu).length,o=r.filter(a=>a instanceof _u).length;if(i>1||i>0&&o>0)throw new M(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class _u extends W2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _u(e,n,s)}_apply(e){const n=this._parse(e);return Zm(e._query,n),new us(e.firestore,e.converter,Pl(e._query,n))}_parse(e){const n=mu(e.firestore);return function(r,i,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new M(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Df(u,c);const f=[];for(const g of u)f.push(Rf(a,r,g));h={arrayValue:{values:f}}}else h=Rf(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Df(u,c),h=z2(o,i,u,c==="in"||c==="not-in");return Fe.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Eu extends wu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eu(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let i=s;const o=r.getFlattenedFilters();for(const a of o)Zm(i,a),i=Pl(i,a)}(e._query,n),new us(e.firestore,e.converter,Pl(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rf(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new M(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!em(e)&&n.indexOf("/")!==-1)throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Se.fromString(n));if(!q.isDocumentKey(s))throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yh(t,new q(s))}if(n instanceof at)return Yh(t,n._key);throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oa(n)}.`)}function Df(t,e){if(!Array.isArray(t)||t.length===0)throw new M(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zm(t,e){if(e.isInequality()){const s=Yc(t),r=e.field;if(s!==null&&!s.isEqual(r))throw new M(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${r.toString()}'`);const i=Zg(t);i!==null&&Y2(t,r,i)}const n=function(s,r){for(const i of s)for(const o of i.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new M(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Y2(t,e,n){if(!n.isEqual(e))throw new M(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class J2{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new gu(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(qr(e));default:return null}}convertTimestamp(e){const n=Dn(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Se.fromString(e);Te(Cm(s));const r=new Hr(s.get(1),s.get(3)),i=new q(s.popFirst(5));return r.isEqual(n)||an(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ey extends Ym{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class qi extends ey{data(e={}){return super.data(e)}}class ty{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new dr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new qi(this._firestore,this._userDataWriter,s.key,s,new dr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new qi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new dr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new qi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new dr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:Z2(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){t=Dt(t,at);const e=Dt(t.firestore,ss);return N2(la(e),t._key).then(n=>sy(e,t,n))}class bu extends J2{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function tS(t){t=Dt(t,us);const e=Dt(t.firestore,ss),n=la(e),s=new bu(e);return Xm(t._query),k2(n,t._query).then(r=>new ty(e,s,t,r))}function Nf(t,e,n){t=Dt(t,at);const s=Dt(t.firestore,ss),r=X2(t.converter,e);return ny(s,[U2(mu(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Gt.none())])}function nS(t,e,n,...s){t=Dt(t,at);const r=Dt(t.firestore,ss),i=mu(r);let o;return o=typeof(e=Yt(e))=="string"||e instanceof ca?H2(i,"updateDoc",t._key,e,n,s):q2(i,"updateDoc",t._key,e),ny(r,[o.toMutation(t._key,Gt.exists(!0))])}function kf(t,...e){var n,s,r;t=Yt(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||xf(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(xf(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof at)c=Dt(t.firestore,ss),u=Jo(t._key.path),l={next:h=>{e[o]&&e[o](sy(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Dt(t,us);c=Dt(h.firestore,ss),u=h._query;const f=new bu(c);l={next:g=>{e[o]&&e[o](new ty(c,f,h,g))},error:e[o+1],complete:e[o+2]},Xm(t._query)}return function(h,f,g,m){const y=new pu(m),S=new fu(f,y,g);return h.asyncQueue.enqueueAndForget(async()=>cu(await po(h),S)),()=>{y.Dc(),h.asyncQueue.enqueueAndForget(async()=>uu(await po(h),S))}}(la(c),u,a,l)}function ny(t,e){return function(n,s){const r=new rn;return n.asyncQueue.enqueueAndForget(async()=>y2(await D2(n),s,r)),r.promise}(la(t),e)}function sy(t,e,n){const s=n.docs.get(e._key),r=new bu(t);return new ey(t,r,e._key,s,new dr(n.hasPendingWrites,n.fromCache),e.converter)}function sS(...t){return new j2("arrayUnion",t)}(function(t,e=!0){(function(n){Js=n})(L_),Zi(new kr("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new ss(new sb(n.getProvider("auth-internal")),new ab(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Is(zh,"3.13.0",t),Is(zh,"3.13.0","esm2017")})();const rS={apiKey:"AIzaSyDwFzzL9emQ--dUtLWT7vmSVKCyAEMBTpk",authDomain:"whatsapp-clone-422814.firebaseapp.com",projectId:"whatsapp-clone-422814",storageBucket:"whatsapp-clone-422814.appspot.com",messagingSenderId:"878858859701",appId:"1:878858859701:web:21465248ecc09f3e363afc"},iS=$p(rS),jn=M2(iS);Le.defaults.baseURL="http://localhost:4001";const hs=tv("user",{state:()=>({count:0,sub:"",email:"",picture:"",firstName:"",lastName:"",chats:[],allUsers:[],userDataForChat:[],showFindFriends:!1,currentChat:null,removeUsersFromFindFriends:[]}),actions:{async checkIfUserExists(t){const e=or(jn,"users",t);return(await eS(e)).exists()},async saveUserDetails(t){try{await Nf(or(jn,"users",t.data.sub),{sub:t.data.sub,email:t.data.email,picture:t.data.picture,firstName:t.data.given_name,lastName:t.data.family_name})}catch(e){console.log(e)}},async getAllUsers(){try{const t=await tS(If(jn,"users"));let e=[];t.forEach(n=>{e.push(n.data())}),e.length&&(this.allUsers=[],e.forEach(n=>{this.allUsers.push(n)}))}catch(t){console.log(t)}},async getUserDatailsFromGoogle(t){try{let e=await Le.post("/api/google-login",{token:t.credential});console.log("res",e);let n=await this.checkIfUserExists(e.data.sub);console.log("userExist",n),n||await this.saveUserDetails(e),await this.getAllUsers(),this.sub=e.data.sub,this.email=e.data.email,this.picture=e.data.picture,this.firstName=e.data.given_name,this.lastName=e.data.family_name}catch(e){console.log(e)}},async getChatById(t){kf(or(jn,"chat",t),e=>{let n=[];n.push(e.data()),console.log("res",n),this.currentChat=n})},getAllChatsByUser(){const t=Q2(If(jn,"chat"));kf(t,e=>{let n=[];e.forEach(s=>{let r={id:s.id,sub1:s.data().sub1,sub2:s.data().sub2,sub1HasViewed:s.data().sub1HasViewed,sub2HasViewed:s.data().sub2HasViewed,messages:s.data().messages};s.data().sub1===this.sub&&n.push(r),s.data().sub2===this.sub&&n.push(r),this.removeUsersFromFindFriends=[],n.forEach(i=>{this.sub===i.sub1&&this.allUsers.forEach(o=>{o.sub==i.sub2&&(i.user=o,this.removeUsersFromFindFriends.push(o.sub))}),this.sub===i.sub2&&this.allUsers.forEach(o=>{o.sub==i.sub1&&(i.user=o,this.removeUsersFromFindFriends.push(o.sub))})}),this.chats=[],n.forEach(i=>{this.chats.push(i)})})})},async sendMessage(t){Eh();try{if(t.chatId)await nS(or(jn,`chat/${t.chatId}`),{sub1HasViewed:!1,sub2HasViewed:!1,messages:sS({sub:this.sub,message:t.message,createdAt:Date.now()})});else{let e=Eh();await Nf(or(jn,`chat/${e}`),{sub1:this.sub,sub2:t.sub2,sub1HasViewed:!1,sub2HasViewed:!1,messages:[{sub:this.sub,message:t.message,createdAt:Date.now()}]}),this.userDataForChat[0].id=e,this.showFindFriends=!1}}catch(e){console.log(e)}},logout(){this.sub=null,this.email="",this.picture=null,this.firstName="",this.lastName="",this.allUsers=[],this.userDataForChat=[],this.showFindFriends=!1}},persist:!0});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function oS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const me=Object.assign;function Ka(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ft(r)?r.map(t):t(r)}return n}const Sr=()=>{},Ft=Array.isArray,ry=/#/g,aS=/&/g,lS=/\//g,cS=/=/g,uS=/\?/g,iy=/\+/g,hS=/%5B/g,fS=/%5D/g,oy=/%5E/g,dS=/%60/g,ay=/%7B/g,pS=/%7C/g,ly=/%7D/g,gS=/%20/g;function Cu(t){return encodeURI(""+t).replace(pS,"|").replace(hS,"[").replace(fS,"]")}function mS(t){return Cu(t).replace(ay,"{").replace(ly,"}").replace(oy,"^")}function zl(t){return Cu(t).replace(iy,"%2B").replace(gS,"+").replace(ry,"%23").replace(aS,"%26").replace(dS,"`").replace(ay,"{").replace(ly,"}").replace(oy,"^")}function yS(t){return zl(t).replace(cS,"%3D")}function vS(t){return Cu(t).replace(ry,"%23").replace(uS,"%3F")}function wS(t){return t==null?"":vS(t).replace(lS,"%2F")}function Gr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const _S=/\/$/,ES=t=>t.replace(_S,"");function Ga(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=TS(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Gr(o)}}function bS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Of(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function CS(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Hs(e.matched[s],n.matched[r])&&cy(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cy(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!SS(t[n],e[n]))return!1;return!0}function SS(t,e){return Ft(t)?Lf(t,e):Ft(e)?Lf(e,t):t===e}function Lf(t,e){return Ft(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}var Wr;(function(t){t.pop="pop",t.push="push"})(Wr||(Wr={}));var Tr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tr||(Tr={}));function AS(t){if(!t)if(_s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ES(t)}const IS=/^[^#]+#/;function xS(t,e){return t.replace(IS,"#")+e}function RS(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const da=()=>({left:window.scrollX,top:window.scrollY});function DS(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=RS(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Pf(t,e){return(history.state?history.state.position-e:-1)+t}const Kl=new Map;function NS(t,e){Kl.set(t,e)}function kS(t){const e=Kl.get(t);return Kl.delete(t),e}let OS=()=>location.protocol+"//"+location.host;function uy(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Of(l,"")}return Of(n,t)+s+r}function LS(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=uy(t,location),m=n.value,y=e.value;let S=0;if(f){if(n.value=g,e.value=f,o&&o===m){o=null;return}S=y?f.position-y.position:0}else s(g);r.forEach(I=>{I(n.value,m,{delta:S,type:Wr.pop,direction:S?S>0?Tr.forward:Tr.back:Tr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const g=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(me({},f.state,{scroll:da()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Mf(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?da():null}}function PS(t){const{history:e,location:n}=window,s={value:uy(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:OS()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=me({},e.state,Mf(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=me({},r.value,e.state,{forward:l,scroll:da()});i(u.current,u,!0);const h=me({},Mf(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function MS(t){t=AS(t);const e=PS(t),n=LS(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=me({location:"",base:t,go:s,createHref:xS.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function FS(t){return typeof t=="string"||t&&typeof t=="object"}function hy(t){return typeof t=="string"||typeof t=="symbol"}const pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fy=Symbol("");var Ff;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ff||(Ff={}));function zs(t,e){return me(new Error,{type:t,[fy]:!0},e)}function tn(t,e){return t instanceof Error&&fy in t&&(e==null||!!(t.type&e))}const $f="[^/]+?",$S={sensitive:!1,strict:!1,start:!0,end:!0},VS=/[.+*?^${}()[\]/\\]/g;function US(t,e){const n=me({},$S,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(VS,"\\$&"),g+=40;else if(f.type===1){const{value:m,repeatable:y,optional:S,regexp:I}=f;i.push({name:m,repeatable:y,optional:S});const D=I||$f;if(D!==$f){g+=10;try{new RegExp(`(${D})`)}catch(Q){throw new Error(`Invalid custom RegExp for param "${m}" (${D}): `+Q.message)}}let P=y?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;h||(P=S&&c.length<2?`(?:/${P})`:"/"+P),S&&(P+="?"),r+=P,g+=20,S&&(g+=-8),y&&(g+=-20),D===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",m=i[f-1];h[m.name]=g&&m.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:m,repeatable:y,optional:S}=g,I=m in c?c[m]:"";if(Ft(I)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const D=Ft(I)?I.join("/"):I;if(!D)if(S)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=D}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function BS(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function jS(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=BS(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Vf(s))return 1;if(Vf(r))return-1}return r.length-s.length}function Vf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qS={type:0,value:""},HS=/[a-zA-Z0-9_]/;function zS(t){if(!t)return[[]];if(t==="/")return[[qS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:HS.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function KS(t,e,n){const s=US(zS(t.path),n),r=me(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function GS(t,e){const n=[],s=new Map;e=jf({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const g=!f,m=WS(u);m.aliasOf=f&&f.record;const y=jf(e,u),S=[m];if("alias"in u){const P=typeof u.alias=="string"?[u.alias]:u.alias;for(const Q of P)S.push(me({},m,{components:f?f.record.components:m.components,path:Q,aliasOf:f?f.record:m}))}let I,D;for(const P of S){const{path:Q}=P;if(h&&Q[0]!=="/"){const re=h.record.path,K=re[re.length-1]==="/"?"":"/";P.path=h.record.path+(Q&&K+Q)}if(I=KS(P,h,y),f?f.alias.push(I):(D=D||I,D!==I&&D.alias.push(I),g&&u.name&&!Bf(I)&&o(u.name)),m.children){const re=m.children;for(let K=0;K<re.length;K++)i(re[K],I,f&&f.children[K])}f=f||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&l(I)}return D?()=>{o(D)}:Sr}function o(u){if(hy(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&jS(u,n[h])>=0&&(u.record.path!==n[h].record.path||!dy(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Bf(u)&&s.set(u.record.name,u)}function c(u,h){let f,g={},m,y;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw zs(1,{location:u});y=f.record.name,g=me(Uf(h.params,f.keys.filter(D=>!D.optional).concat(f.parent?f.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),u.params&&Uf(u.params,f.keys.map(D=>D.name))),m=f.stringify(g)}else if(u.path!=null)m=u.path,f=n.find(D=>D.re.test(m)),f&&(g=f.parse(m),y=f.record.name);else{if(f=h.name?s.get(h.name):n.find(D=>D.re.test(h.path)),!f)throw zs(1,{location:u,currentLocation:h});y=f.record.name,g=me({},h.params,u.params),m=f.stringify(g)}const S=[];let I=f;for(;I;)S.unshift(I.record),I=I.parent;return{name:y,path:m,params:g,matched:S,meta:YS(S)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Uf(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function WS(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:QS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function QS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Bf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function YS(t){return t.reduce((e,n)=>me(e,n.meta),{})}function jf(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function dy(t,e){return e.children.some(n=>n===t||dy(t,n))}function JS(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(iy," "),o=i.indexOf("="),a=Gr(o<0?i:i.slice(0,o)),l=o<0?null:Gr(i.slice(o+1));if(a in e){let c=e[a];Ft(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function qf(t){let e="";for(let n in t){const s=t[n];if(n=yS(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ft(s)?s.map(i=>i&&zl(i)):[s&&zl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function XS(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ft(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const ZS=Symbol(""),Hf=Symbol(""),pa=Symbol(""),py=Symbol(""),Gl=Symbol("");function ar(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function wn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(zs(4,{from:n,to:e})):f instanceof Error?l(f):FS(f)?l(zs(2,{from:e,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(s&&s.instances[r],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Wa(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(eT(l)){const u=(l.__vccOpts||l)[e];u&&i.push(wn(u,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=oS(u)?u.default:u;o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&wn(g,n,s,o,a,r)()}))}}return i}function eT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zf(t){const e=Lt(pa),n=Lt(py),s=Tt(()=>{const l=ye(t.to);return e.resolve(l)}),r=Tt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Hs.bind(null,u));if(f>-1)return f;const g=Kf(l[c-2]);return c>1&&Kf(u)===g&&h[h.length-1].path!==g?h.findIndex(Hs.bind(null,l[c-2])):f}),i=Tt(()=>r.value>-1&&rT(n.params,s.value.params)),o=Tt(()=>r.value>-1&&r.value===n.matched.length-1&&cy(n.params,s.value.params));function a(l={}){return sT(l)?e[ye(t.replace)?"replace":"push"](ye(t.to)).catch(Sr):Promise.resolve()}return{route:s,href:Tt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const tT=fc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zf,setup(t,{slots:e}){const n=is(zf(t)),{options:s}=Lt(pa),r=Tt(()=>({[Gf(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Gf(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:rp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),nT=tT;function sT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rT(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ft(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Kf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gf=(t,e,n)=>t??e??n,iT=fc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Lt(Gl),r=Tt(()=>t.route||s.value),i=Lt(Hf,0),o=Tt(()=>{let c=ye(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Tt(()=>r.value.matched[o.value]);Li(Hf,Tt(()=>o.value+1)),Li(ZS,a),Li(Gl,r);const l=os();return Ts(()=>[l.value,a.value,t.name],([c,u,h],[f,g,m])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Hs(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Wf(n.default,{Component:f,route:c});const g=h.props[u],m=g?g===!0?c.params:typeof g=="function"?g(c):g:null,S=rp(f,me({},m,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Wf(n.default,{Component:S,route:c})||S}}});function Wf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const oT=iT;function aT(t){const e=GS(t.routes,t),n=t.parseQuery||JS,s=t.stringifyQuery||qf,r=t.history,i=ar(),o=ar(),a=ar(),l=Xy(pn);let c=pn;_s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ka.bind(null,E=>""+E),h=Ka.bind(null,wS),f=Ka.bind(null,Gr);function g(E,F){let O,U;return hy(E)?(O=e.getRecordMatcher(E),U=F):U=E,e.addRoute(U,O)}function m(E){const F=e.getRecordMatcher(E);F&&e.removeRoute(F)}function y(){return e.getRoutes().map(E=>E.record)}function S(E){return!!e.getRecordMatcher(E)}function I(E,F){if(F=me({},F||l.value),typeof E=="string"){const p=Ga(n,E,F.path),v=e.resolve({path:p.path},F),C=r.createHref(p.fullPath);return me(p,v,{params:f(v.params),hash:Gr(p.hash),redirectedFrom:void 0,href:C})}let O;if(E.path!=null)O=me({},E,{path:Ga(n,E.path,F.path).path});else{const p=me({},E.params);for(const v in p)p[v]==null&&delete p[v];O=me({},E,{params:h(p)}),F.params=h(F.params)}const U=e.resolve(O,F),ge=E.hash||"";U.params=u(f(U.params));const Re=bS(s,me({},E,{hash:mS(ge),path:U.path})),d=r.createHref(Re);return me({fullPath:Re,hash:ge,query:s===qf?XS(E.query):E.query||{}},U,{redirectedFrom:void 0,href:d})}function D(E){return typeof E=="string"?Ga(n,E,l.value.path):me({},E)}function P(E,F){if(c!==E)return zs(8,{from:F,to:E})}function Q(E){return Ie(E)}function re(E){return Q(me(D(E),{replace:!0}))}function K(E){const F=E.matched[E.matched.length-1];if(F&&F.redirect){const{redirect:O}=F;let U=typeof O=="function"?O(E):O;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=D(U):{path:U},U.params={}),me({query:E.query,hash:E.hash,params:U.path!=null?{}:E.params},U)}}function Ie(E,F){const O=c=I(E),U=l.value,ge=E.state,Re=E.force,d=E.replace===!0,p=K(O);if(p)return Ie(me(D(p),{state:typeof p=="object"?me({},ge,p.state):ge,force:Re,replace:d}),F||O);const v=O;v.redirectedFrom=F;let C;return!Re&&CS(s,U,O)&&(C=zs(16,{to:v,from:U}),$t(U,U,!0,!1)),(C?Promise.resolve(C):Oe(v,U)).catch(w=>tn(w)?tn(w,2)?w:hn(w):de(w,v,U)).then(w=>{if(w){if(tn(w,2))return Ie(me({replace:d},D(w.to),{state:typeof w.to=="object"?me({},ge,w.to.state):ge,force:Re}),F||v)}else w=vt(v,U,!0,d,ge);return Je(v,U,w),w})}function ne(E,F){const O=P(E,F);return O?Promise.reject(O):Promise.resolve()}function se(E){const F=ds.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(E):E()}function Oe(E,F){let O;const[U,ge,Re]=lT(E,F);O=Wa(U.reverse(),"beforeRouteLeave",E,F);for(const p of U)p.leaveGuards.forEach(v=>{O.push(wn(v,E,F))});const d=ne.bind(null,E,F);return O.push(d),Xe(O).then(()=>{O=[];for(const p of i.list())O.push(wn(p,E,F));return O.push(d),Xe(O)}).then(()=>{O=Wa(ge,"beforeRouteUpdate",E,F);for(const p of ge)p.updateGuards.forEach(v=>{O.push(wn(v,E,F))});return O.push(d),Xe(O)}).then(()=>{O=[];for(const p of Re)if(p.beforeEnter)if(Ft(p.beforeEnter))for(const v of p.beforeEnter)O.push(wn(v,E,F));else O.push(wn(p.beforeEnter,E,F));return O.push(d),Xe(O)}).then(()=>(E.matched.forEach(p=>p.enterCallbacks={}),O=Wa(Re,"beforeRouteEnter",E,F,se),O.push(d),Xe(O))).then(()=>{O=[];for(const p of o.list())O.push(wn(p,E,F));return O.push(d),Xe(O)}).catch(p=>tn(p,8)?p:Promise.reject(p))}function Je(E,F,O){a.list().forEach(U=>se(()=>U(E,F,O)))}function vt(E,F,O,U,ge){const Re=P(E,F);if(Re)return Re;const d=F===pn,p=_s?history.state:{};O&&(U||d?r.replace(E.fullPath,me({scroll:d&&p&&p.scroll},ge)):r.push(E.fullPath,ge)),l.value=E,$t(E,F,O,d),hn()}let Ct;function Vn(){Ct||(Ct=r.listen((E,F,O)=>{if(!gi.listening)return;const U=I(E),ge=K(U);if(ge){Ie(me(ge,{replace:!0}),U).catch(Sr);return}c=U;const Re=l.value;_s&&NS(Pf(Re.fullPath,O.delta),da()),Oe(U,Re).catch(d=>tn(d,12)?d:tn(d,2)?(Ie(d.to,U).then(p=>{tn(p,20)&&!O.delta&&O.type===Wr.pop&&r.go(-1,!1)}).catch(Sr),Promise.reject()):(O.delta&&r.go(-O.delta,!1),de(d,U,Re))).then(d=>{d=d||vt(U,Re,!1),d&&(O.delta&&!tn(d,8)?r.go(-O.delta,!1):O.type===Wr.pop&&tn(d,20)&&r.go(-1,!1)),Je(U,Re,d)}).catch(Sr)}))}let St=ar(),he=ar(),we;function de(E,F,O){hn(E);const U=he.list();return U.length?U.forEach(ge=>ge(E,F,O)):console.error(E),Promise.reject(E)}function en(){return we&&l.value!==pn?Promise.resolve():new Promise((E,F)=>{St.add([E,F])})}function hn(E){return we||(we=!E,Vn(),St.list().forEach(([F,O])=>E?O(E):F()),St.reset()),E}function $t(E,F,O,U){const{scrollBehavior:ge}=t;if(!_s||!ge)return Promise.resolve();const Re=!O&&kS(Pf(E.fullPath,0))||(U||!O)&&history.state&&history.state.scroll||null;return uc().then(()=>ge(E,F,Re)).then(d=>d&&DS(d)).catch(d=>de(d,E,F))}const dt=E=>r.go(E);let fs;const ds=new Set,gi={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,hasRoute:S,getRoutes:y,resolve:I,options:t,push:Q,replace:re,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:he.add,isReady:en,install(E){const F=this;E.component("RouterLink",nT),E.component("RouterView",oT),E.config.globalProperties.$router=F,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(l)}),_s&&!fs&&l.value===pn&&(fs=!0,Q(r.location).catch(ge=>{}));const O={};for(const ge in pn)Object.defineProperty(O,ge,{get:()=>l.value[ge],enumerable:!0});E.provide(pa,F),E.provide(py,_d(O)),E.provide(Gl,l);const U=E.unmount;ds.add(E),E.unmount=function(){ds.delete(E),ds.size<1&&(c=pn,Ct&&Ct(),Ct=null,l.value=pn,fs=!1,we=!1),U()}}};function Xe(E){return E.reduce((F,O)=>F.then(()=>se(O)),Promise.resolve())}return gi}function lT(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Hs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Hs(c,l))||r.push(l))}return[n,s,r]}function Su(){return Lt(pa)}const cT={id:"app"},uT={__name:"App",setup(t){const e=Su(),n=hs();return Qr(()=>{n.sub||e.push("/login")}),(s,r)=>{const i=Ld("router-view");return G(),ee("div",cT,[Ee(i)])}}},$n=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},hT={name:"AccountGroupIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},fT=["aria-hidden","aria-label"],dT=["fill","width","height"],pT={d:"M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z"},gT={key:0};function mT(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon account-group-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",pT,[n.title?(G(),ee("title",gT,ft(n.title),1)):Xt("",!0)])],8,dT))],16,fT)}const yT=$n(hT,[["render",mT]]),vT={name:"DotsVerticalIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},wT=["aria-hidden","aria-label"],_T=["fill","width","height"],ET={d:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},bT={key:0};function CT(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon dots-vertical-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",ET,[n.title?(G(),ee("title",bT,ft(n.title),1)):Xt("",!0)])],8,_T))],16,wT)}const gy=$n(vT,[["render",CT]]),ST={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},TT=["aria-hidden","aria-label"],AT=["fill","width","height"],IT={d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},xT={key:0};function RT(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon magnify-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",IT,[n.title?(G(),ee("title",xT,ft(n.title),1)):Xt("",!0)])],8,AT))],16,TT)}const DT=$n(ST,[["render",RT]]),NT={name:"CheckAllIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},kT=["aria-hidden","aria-label"],OT=["fill","width","height"],LT={d:"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z"},PT={key:0};function MT(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon check-all-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",LT,[n.title?(G(),ee("title",PT,ft(n.title),1)):Xt("",!0)])],8,OT))],16,kT)}const FT=$n(NT,[["render",MT]]),$T={class:""},VT={class:"flex w-full px-4 py-3 items-center cursor-pointer"},UT=["src"],BT={class:"w-full"},jT={class:"flex justify-between items-center"},qT={class:"text-[15px] text-gray-600"},HT={class:"text-[12px] text-gray-600"},zT={class:"flex items-center"},KT={class:"text-[15px] w-full text-gray-500 flex items-center justify-between"},GT=B("div",{class:"border-b w-[calc(100%-80px)] float-right"},null,-1),WT={__name:"MessageRowComponent",props:{chat:Object},setup(t){const e=hs(),{sub:n}=Jr(e),s=t,{chat:r}=Id(s),i=l=>{const c=new Date(l),u=new Date,h=c.getDate()===u.getDate()&&c.getMonth()===u.getMonth()&&c.getFullYear()===u.getFullYear(),f=c.getDate()===u.getDate()-1&&c.getMonth()===u.getMonth()&&c.getFullYear()===u.getFullYear();let g;return h?g=`${c.getHours()}:${c.getMinutes().toString().padStart(2,"0")} ${c.getHours()>=12?"PM":"AM"}`:f?g=`Yesterday ${c.getHours()}:${c.getMinutes().toString().padStart(2,"0")} ${c.getHours()>=12?"PM":"AM"}`:g=`${c.toDateString()} ${c.getHours()}:${c.getMinutes().toString().padStart(2,"0")} ${c.getHours()>=12?"PM":"AM"}`,console.log(g),g},o=l=>l.messages[l.messages.length-1].message.length>21?l.messages[l.messages.length-1].message.substring(0,20)+"...":l.messages[l.messages.length-1].message,a=l=>{l.sub1===n.value&&l.sub1HasViewd,l.sub2===n.value&&l.sub2HasViewd};return(l,c)=>(G(),ee("div",$T,[B("div",VT,[B("img",{class:"rounded-full mr-4 w-12",src:ye(r).user.picture||""},null,8,UT),B("div",BT,[B("div",jT,[B("div",qT,ft(ye(r).user.firstName||""),1),B("div",HT,ft(i(ye(r).messages[ye(r).messages.length-1].createdAt)||""),1)]),B("div",zT,[Ee(FT,{size:18,fillColor:a(ye(r)),class:"mr-1"},null,8,["fillColor"]),B("div",KT,ft(o(ye(r))),1)])])]),GT]))}},QT={id:"messages",class:"pt-1 z-0 overflow-auto fixed h-[calc(100vh-100px)] w-[420px]"},YT=["onClick"],JT={__name:"ChatsView",setup(t){const e=hs(),{chats:n,userDataForChat:s}=Jr(e);Qr(async()=>{s.value.length&&await e.getChatById(s.value[0].id),console.log("chats",n)});const r=async i=>{s.value=[],s.value.push({id:i.id,sub1:i.sub1,sub2:i.sub2,picture:i.user.picture,firstName:i.user.firstName});try{await e.getChatById(i.id)}catch(o){console.log("errr",o)}};return(i,o)=>(G(),ee("div",QT,[(G(!0),ee(gt,null,dc(ye(n),(a,l)=>(G(),ee("div",{key:l},[B("div",{onClick:c=>r(a)},[Ee(WT,{chat:a},null,8,["chat"])],8,YT)]))),128))]))}},XT={name:"EmoticonExcitedOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ZT=["aria-hidden","aria-label"],eA=["fill","width","height"],tA={d:"M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M13,9.94L14.06,11L15.12,9.94L16.18,11L17.24,9.94L15.12,7.82L13,9.94M8.88,9.94L9.94,11L11,9.94L8.88,7.82L6.76,9.94L7.82,11L8.88,9.94M12,17.5C14.33,17.5 16.31,16.04 17.11,14H6.89C7.69,16.04 9.67,17.5 12,17.5Z"},nA={key:0};function sA(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon emoticon-excited-outline-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",tA,[n.title?(G(),ee("title",nA,ft(n.title),1)):Xt("",!0)])],8,eA))],16,ZT)}const rA=$n(XT,[["render",sA]]),iA={name:"PaperclipIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},oA=["aria-hidden","aria-label"],aA=["fill","width","height"],lA={d:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},cA={key:0};function uA(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon paperclip-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",lA,[n.title?(G(),ee("title",cA,ft(n.title),1)):Xt("",!0)])],8,aA))],16,oA)}const hA=$n(iA,[["render",uA]]),fA={name:"SendIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},dA=["aria-hidden","aria-label"],pA=["fill","width","height"],gA={d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},mA={key:0};function yA(t,e,n,s,r,i){return G(),ee("span",Ln(t.$attrs,{"aria-hidden":n.title?null:!0,"aria-label":n.title,class:"material-design-icon send-icon",role:"img",onClick:e[0]||(e[0]=o=>t.$emit("click",o))}),[(G(),ee("svg",{fill:n.fillColor,class:"material-design-icon__svg",width:n.size,height:n.size,viewBox:"0 0 24 24"},[B("path",gA,[n.title?(G(),ee("title",mA,ft(n.title),1)):Xt("",!0)])],8,pA))],16,dA)}const vA=$n(fA,[["render",yA]]),wA=t=>(u1("data-v-e766e05e"),t=t(),h1(),t),_A={class:"w-full"},EA={class:"w-full"},bA=wA(()=>B("div",{id:"BG"},null,-1)),CA={class:"border-l border-green-500 w-full"},SA={class:"bg-[#f0f0f0] fixed z-10 min-w-[calc(100vw-420px)] flex justify-between items-center px-2 py-2"},TA={class:"flex items-center"},AA=["src"],IA={class:"text-gray-900 ml-1 font-semibold"},xA={id:"MessagesSection",class:"pt-20 pb-8 z-[-1] h-[calc(100vh-65px)] w-[calc(100vw-420px)] overflow-auto fixed touch-auto"},RA={key:0,class:"px-20 text-sm"},DA={key:0,class:"flex w-[calc(100%-50px)]"},NA={class:"inline-block bg-white p-2 rounded-md my-1"},kA={key:1,class:"flex justify-end space-x-1 w-[calc(100%-50px)] float-right"},OA={class:"inline-block bg-green-200 p-2 rounded-md my-1"},LA={class:"w-[calc(100vw-420px)] p-2.5 z-10 bg-[#f0f0f0] fixed bottom-0"},PA={class:"flex items-center justify-center"},MA={__name:"MessageView",setup(t){const e=hs(),{userDataForChat:n,currentChat:s,sub:r}=Jr(e);let i=os("");const o=async()=>{await e.sendMessage({message:i.value,sub2:n.value[0].sub2,chatId:n.value[0].id})};return(a,l)=>(G(),ee("div",_A,[B("div",EA,[bA,B("div",CA,[B("div",SA,[B("div",TA,[B("img",{class:"rounded-full mx-1 w-10",src:ye(e).userDataForChat[0].picture||"",alt:""},null,8,AA),B("div",IA,ft(ye(e).userDataForChat[0].firstName||""),1)]),Ee(gy,{fillColor:"#515151"})])]),B("div",xA,[ye(s)&&ye(s).length?(G(),ee("div",RA,[(G(!0),ee(gt,null,dc(ye(s)[0].messages,c=>(G(),ee("div",{key:c},[c.sub===ye(r)?(G(),ee("div",DA,[B("div",NA,ft(c.message),1)])):(G(),ee("div",kA,[B("div",OA,ft(c.message),1)]))]))),128))])):Xt("",!0)]),B("div",LA,[B("div",PA,[Ee(rA,{size:27,fillColor:"#515151",class:"mx-1.5"}),Ee(hA,{size:27,fillColor:"#515151",class:"mx-1.5 mr-3"}),T1(B("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>Ne(i)?i.value=c:i=c),class:"mr-1 shadow apperance-none rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",autocomplete:"off",placeholder:"Message"},null,512),[[j0,ye(i)]]),B("button",{onClick:l[1]||(l[1]=c=>o()),class:"ml-3 p-2 w-12 flex items-center justify-center"},[Ee(vA,{fillColor:"#515151"})])])])])]))}},FA=$n(MA,[["__scopeId","data-v-e766e05e"]]),$A={id:"FindFriends",class:"pt-[100px] overflow-auto fixed h-[100vh] w-full"},VA=["onClick"],UA=["src"],BA={class:"w-full"},jA={class:"flex justify-between items-center"},qA={class:"text-[15px] text-gray-600"},HA=B("div",{class:"flex items-center"},[B("div",{class:"text-[15px] text-gray-500"},"Hi, I'm using WhatsApp!")],-1),zA={__name:"FindFriendsView",setup(t){const e=hs(),{sub:n,userDataForChat:s,chats:r}=Jr(e),i=o=>{s.value.filter(a=>a.id)&&(s.value=[]),s.value.push({id:"",sub1:n.value,sub2:o.sub,picture:o.picture,firstName:o.firstName})};return(o,a)=>(G(),ee("div",$A,[(G(!0),ee(gt,null,dc(ye(e).allUsers,(l,c)=>(G(),ee("div",{key:c},[l.sub!==ye(e).sub?(G(),ee("div",{key:0,onClick:u=>i(l),class:"flex w-full p-4 items-center cursor-pointer"},[B("img",{class:"rounded-full mr-4 w-12",src:l.picture||""},null,8,UA),B("div",BA,[B("div",jA,[B("div",qA,ft(l.firstName||"")+" "+ft(l.lastName||""),1)]),HA])],8,VA)):Xt("",!0)]))),128))]))}},KA={class:"flex"},GA={class:"header w-[420px]"},WA={class:"bg-[#0f0f0f0 w-full flex justify-between items-center px-3 py-2"},QA=["src"],YA={class:"flex items-center justify-center"},JA={id:"search",class:"bg-white w-full px-2 border-b"},XA={class:"px-1 m-2 bg-[0f0f0f0] flex items-center justify-center rounded-md"},ZA={key:2},e4={key:3,class:"ml-[420px] fixed w-[calc(100vw-420px)] h-[100vh] bg-gray-100 text-center"},t4=c0('<div class="grid h-screen place-items-center"><div><div class="w-full flex items-center justify-center"><svg viewBox="0 0 303 172" width="360" preserveAspectRatio="xMidYMid meet" class="" fill="none"><title>intro-md-beta-logo-light</title><path fill-rule="evenodd" clip-rule="evenodd" d="M229.565 160.229C262.212 149.245 286.931 118.241 283.39 73.4194C278.009 5.31929 212.365 -11.5738 171.472 8.48673C115.998 35.6999 108.972 40.1612 69.2388 40.1612C39.645 40.1612 9.51318 54.4147 5.7467 92.952C3.0166 120.885 13.9985 145.267 54.6373 157.716C128.599 180.373 198.017 170.844 229.565 160.229Z" fill="#DAF7F3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M131.589 68.9422C131.593 68.9422 131.596 68.9422 131.599 68.9422C137.86 68.9422 142.935 63.6787 142.935 57.1859C142.935 50.6931 137.86 45.4297 131.599 45.4297C126.518 45.4297 122.218 48.8958 120.777 53.6723C120.022 53.4096 119.213 53.2672 118.373 53.2672C114.199 53.2672 110.815 56.7762 110.815 61.1047C110.815 65.4332 114.199 68.9422 118.373 68.9422C118.377 68.9422 118.381 68.9422 118.386 68.9422H131.589Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M105.682 128.716C109.186 128.716 112.026 125.908 112.026 122.446C112.026 118.983 109.186 116.176 105.682 116.176C104.526 116.176 103.442 116.481 102.509 117.015L102.509 116.959C102.509 110.467 97.1831 105.203 90.6129 105.203C85.3224 105.203 80.8385 108.616 79.2925 113.335C78.6052 113.143 77.88 113.041 77.1304 113.041C72.7503 113.041 69.1995 116.55 69.1995 120.878C69.1995 125.207 72.7503 128.716 77.1304 128.716C77.1341 128.716 77.1379 128.716 77.1416 128.716H105.682L105.682 128.716Z" fill="white"></path><rect x="0.445307" y="0.549558" width="50.5797" height="100.068" rx="7.5" transform="matrix(0.994522 0.104528 -0.103907 0.994587 10.5547 41.6171)" fill="#42CBA5" stroke="#316474"></rect><rect x="0.445307" y="0.549558" width="50.4027" height="99.7216" rx="7.5" transform="matrix(0.994522 0.104528 -0.103907 0.994587 10.9258 37.9564)" fill="white" stroke="#316474"></rect><path d="M57.1609 51.7354L48.5917 133.759C48.2761 136.78 45.5713 138.972 42.5503 138.654L9.58089 135.189C6.55997 134.871 4.36688 132.165 4.68251 129.144L13.2517 47.1204C13.5674 44.0992 16.2722 41.9075 19.2931 42.2251L24.5519 42.7778L47.0037 45.1376L52.2625 45.6903C55.2835 46.0078 57.4765 48.7143 57.1609 51.7354Z" fill="#EEFEFA" stroke="#316474"></path><path d="M26.2009 102.937C27.0633 103.019 27.9323 103.119 28.8023 103.21C29.0402 101.032 29.2706 98.8437 29.4916 96.6638L26.8817 96.39C26.6438 98.5681 26.4049 100.755 26.2009 102.937ZM23.4704 93.3294L25.7392 91.4955L27.5774 93.7603L28.7118 92.8434L26.8736 90.5775L29.1434 88.7438L28.2248 87.6114L25.955 89.4452L24.1179 87.1806L22.9824 88.0974L24.8207 90.3621L22.5508 92.197L23.4704 93.3294ZM22.6545 98.6148C22.5261 99.9153 22.3893 101.215 22.244 102.514C23.1206 102.623 23.9924 102.697 24.8699 102.798C25.0164 101.488 25.1451 100.184 25.2831 98.8734C24.4047 98.7813 23.5298 98.6551 22.6545 98.6148ZM39.502 89.7779C38.9965 94.579 38.4833 99.3707 37.9862 104.174C38.8656 104.257 39.7337 104.366 40.614 104.441C41.1101 99.6473 41.6138 94.8633 42.1271 90.0705C41.2625 89.9282 40.3796 89.8786 39.502 89.7779ZM35.2378 92.4459C34.8492 96.2179 34.4351 99.9873 34.0551 103.76C34.925 103.851 35.7959 103.934 36.6564 104.033C37.1028 100.121 37.482 96.1922 37.9113 92.2783C37.0562 92.1284 36.18 92.0966 35.3221 91.9722C35.2812 92.1276 35.253 92.286 35.2378 92.4459ZM31.1061 94.1821C31.0635 94.341 31.0456 94.511 31.0286 94.6726C30.7324 97.5678 30.4115 100.452 30.1238 103.348L32.7336 103.622C32.8582 102.602 32.9479 101.587 33.0639 100.567C33.2611 98.5305 33.5188 96.4921 33.6905 94.4522C32.8281 94.3712 31.9666 94.2811 31.1061 94.1821Z" fill="#316474"></path><path d="M17.892 48.4889C17.7988 49.3842 18.4576 50.1945 19.3597 50.2923C20.2665 50.3906 21.0855 49.7332 21.1792 48.8333C21.2724 47.938 20.6136 47.1277 19.7115 47.0299C18.8047 46.9316 17.9857 47.5889 17.892 48.4889Z" fill="white" stroke="#316474"></path><path d="M231.807 136.678L197.944 139.04C197.65 139.06 197.404 139.02 197.249 138.96C197.208 138.945 197.179 138.93 197.16 138.918L196.456 128.876C196.474 128.862 196.5 128.843 196.538 128.822C196.683 128.741 196.921 128.668 197.215 128.647L231.078 126.285C231.372 126.265 231.618 126.305 231.773 126.365C231.814 126.381 231.842 126.395 231.861 126.407L232.566 136.449C232.548 136.463 232.522 136.482 232.484 136.503C232.339 136.584 232.101 136.658 231.807 136.678Z" fill="white" stroke="#316474"></path><path d="M283.734 125.679L144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2005 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679Z" fill="white"></path><path d="M144.864 135.363C141.994 135.563 139.493 133.4 139.293 130.54L133.059 41.6349C132.858 38.7751 135.031 36.2858 137.903 36.0856L276.773 26.4008C279.647 26.2004 282.144 28.364 282.345 31.2238L288.578 120.129C288.779 122.989 286.607 125.478 283.734 125.679" stroke="#316474"></path><path d="M278.565 121.405L148.68 130.463C146.256 130.632 144.174 128.861 144.012 126.55L138.343 45.695C138.181 43.3846 139.994 41.3414 142.419 41.1723L272.304 32.1142C274.731 31.945 276.81 33.7166 276.972 36.0271L282.641 116.882C282.803 119.193 280.992 121.236 278.565 121.405Z" fill="#EEFEFA" stroke="#316474"></path><path d="M230.198 129.97L298.691 125.193L299.111 131.189C299.166 131.97 299.013 132.667 298.748 133.161C298.478 133.661 298.137 133.887 297.825 133.909L132.794 145.418C132.482 145.44 132.113 145.263 131.777 144.805C131.445 144.353 131.196 143.684 131.141 142.903L130.721 136.907L199.215 132.131C199.476 132.921 199.867 133.614 200.357 134.129C200.929 134.729 201.665 135.115 202.482 135.058L227.371 133.322C228.188 133.265 228.862 132.782 229.345 132.108C229.758 131.531 230.05 130.79 230.198 129.97Z" fill="#42CBA5" stroke="#316474"></path><path d="M230.367 129.051L300.275 124.175L300.533 127.851C300.591 128.681 299.964 129.403 299.13 129.461L130.858 141.196C130.025 141.254 129.303 140.627 129.245 139.797L128.987 136.121L198.896 131.245C199.485 132.391 200.709 133.147 202.084 133.051L227.462 131.281C228.836 131.185 229.943 130.268 230.367 129.051Z" fill="white" stroke="#316474"></path><ellipse rx="15.9969" ry="15.9971" transform="matrix(0.997577 -0.0695704 0.0699429 0.997551 210.659 83.553)" fill="#42CBA5" stroke="#316474"></ellipse><path d="M208.184 87.1094L204.777 84.3593C204.777 84.359 204.776 84.3587 204.776 84.3583C203.957 83.6906 202.744 83.8012 202.061 84.6073C201.374 85.4191 201.486 86.6265 202.31 87.2997L202.312 87.3011L207.389 91.4116C207.389 91.4119 207.389 91.4121 207.389 91.4124C208.278 92.1372 209.611 91.9373 210.242 90.9795L218.283 78.77C218.868 77.8813 218.608 76.6968 217.71 76.127C216.817 75.5606 215.624 75.8109 215.043 76.6939L208.184 87.1094Z" fill="white" stroke="#316474"></path></svg></div><h1 class="text-[32px] font-light mt-10" style="color:#41525d;"> WhatsApp Web </h1><div class="text-[14px] text-gray-600t mt-2" style="color:#667781;"><div> Send and receive messages without keeping your phone online. </div><div> Use WhatsApp on up to 4 linked devices and 1 phone at the same time. </div></div></div></div>',1),n4=[t4],s4={__name:"HomeView",setup(t){const e=hs(),{showFindFriends:n,userDataForChat:s}=Jr(e),r=Su();os(!0),Qr(async()=>{try{await e.getAllUsers(),await e.getAllChatsByUser()}catch(o){console.log(o)}});const i=()=>{console.log("logout"),confirm("are you sure you want to logout?")&&e.logout(),r.push("/login")};return(o,a)=>(G(),ee("div",KA,[B("div",GA,[B("div",WA,[B("img",{class:"rounded-full ml-1 w-10",src:ye(e).picture||"",alt:""},null,8,QA),B("div",YA,[Ee(yT,{fillColor:"#515151",class:"mr-6 cursor-pointer"}),Ee(gy,{onClick:i,fillColor:"#515151",class:"cursor-pointer"})])]),B("div",JA,[B("div",XA,[Ee(DT,{fillColor:"#515151",class:"ml-2",size:18}),B("input",{onClick:a[0]||(a[0]=l=>ye(n)==!0?n.value=!1:n.value=!0),class:"ml-5 apperance-none w-full bg-[#f0f0f0] py-1.5 px-2.5 text-gray-700 leading-tight focus:outline-none focus:shadow-outline placeholder:text-sm placeholder:text-gray-500",type:"text",autocomplete:"off",placeholder:"Start a new chat"})])])]),ye(n)?(G(),Wi(zA,{key:0,class:"pt-28"})):(G(),Wi(JT,{key:1,class:"mt-[100px]"})),ye(s).length?(G(),ee("div",ZA,[Ee(FA)])):(G(),ee("div",e4,n4))]))}},r4="/faviconnew.ico",i4={class:"w-full"},o4=B("div",{class:"bg-teal-600 z-[-1] w-full h-[255px] fixed top-0"},null,-1),a4=B("div",{class:"bg-[#191919 z-[-1] w-full h-[100vh-255px] fixed bottom-0"},null,-1),l4={class:"max-w-xl mx-auto"},c4=B("div",{class:"mt-10 flex items-center w-full"},[B("img",{width:"40",src:r4,alt:""}),B("div",{class:"font-semiboldtext-gray-100 ml-6"},"WHATSAPP WEB")],-1),u4={class:"bg-white z-10 p24 m-6 mt-10"},h4=B("div",{class:"text-center text-4xl text-gray-700 font-light pb-10"},"WhatsApp Clone",-1),f4={class:"w-full flex justify-center bg-[#191919] p-3 rounded-md"},d4={__name:"LoginView",setup(t){const e=Su(),n=hs(),s=async r=>{console.log(r),await n.getUserDatailsFromGoogle(r),setTimeout(()=>{e.push("/")})};return(r,i)=>{const o=Ld("GoogleLogin");return G(),ee("div",i4,[o4,a4,B("div",l4,[c4,B("div",u4,[h4,B("div",f4,[Ee(o,{callback:s})])])])])}}},p4=[{path:"/",component:s4},{path:"/login",component:d4}],g4=aT({history:MS(),routes:p4});var ga={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid"};const ut=is({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:ga.defaultButtonConfig,callback:()=>{},error:null}),ks=is({apiLoaded:!1,apiLoadIntitited:!1}),my=new Promise(t=>{const e=typeof window<"u";if(!ks.apiLoadIntitited&&e){const n=document.createElement("script");ks.apiLoadIntitited=!0,n.addEventListener("load",()=>{ks.apiLoaded=!0,t(window.google)}),n.src=ga.library,n.async=!0,n.defer=!0,document.head.appendChild(n)}}),ma=t=>{ks.apiLoadIntitited?ks.apiLoaded?t(window.google):Ts(()=>ks.apiLoaded,e=>{e&&t(window.google)}):my.then(e=>{t(e)})},m4=(t,e,n,s)=>{if(!t.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");ma(()=>{((r,i,o,a,l)=>{if(l){const u=r.callback;r.callback=h=>{h.credential?u&&u(h):l(h)}}window.google.accounts.id.initialize(r);const c=i.value;c&&!a&&window.google.accounts.id.renderButton(c,o)})(t,e,n.buttonConfig,s,n.error),n.prompt&&w4({clientId:n.clientId,callback:n.callback,error:n.error,autoLogin:n.autoLogin})})},y4=t=>new Promise((e,n)=>{ma(s=>{if(!(t&&t.clientId||ut.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");s.accounts.oauth2.initCodeClient({client_id:t&&t.clientId||ut.clientId||"",scope:ga.scopes,ux_mode:"popup",callback:r=>{r.code?e(r):n(r)},error_callback:r=>{n(r)}}).requestCode()})}),v4=t=>new Promise((e,n)=>{ma(s=>{if(!(t&&t.clientId||ut.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");s.accounts.oauth2.initTokenClient({client_id:t&&t.clientId||ut.clientId||"",scope:ga.scopes,callback:r=>{r.access_token?e(r):n(r)},error_callback:r=>{n(r)}}).requestAccessToken()})}),w4=t=>{if(!t&&(t={}),!t.clientId&&!ut.clientId)throw new Error("clientId is required");const e={use_fedcm_for_prompt:!0};return t.clientId&&(e.client_id=t.clientId),!t.clientId&&ut.clientId&&(e.client_id=ut.clientId),t.context&&(e.context=t.context),t.autoLogin!=null&&(e.auto_select=t.autoLogin),t.cancelOnTapOutside!=null&&(e.cancel_on_tap_outside=t.cancelOnTapOutside),new Promise((n,s)=>{e.callback=r=>{t&&t.callback&&t.callback(r),r.credential?n(r):s(r)},ma(r=>{r.accounts.id.initialize(e),r.accounts.id.prompt()})})};var Wl=fc({__name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(t){const e=!!V1().default,n=t,s=((o,a)=>{const l={...o};for(const c in a)a[c]!==void 0&&a[c]!==null&&(l[c]=a[c]);return l})(ut,n),r={client_id:s.clientId||null,auto_select:s.autoLogin||!1,callback:s.callback,...s.idConfiguration},i=os();return Qr(()=>{m4(r,i,s,e),n.popupType&&!e&&console.warn("Option 'popupType' is ignored since a slot which act as a custom login button was not found!!!")}),(o,a)=>(G(),ee("div",{class:"g-btn-wrapper",onClick:a[0]||(a[0]=l=>ye(e)&&void(ye(s).popupType==="TOKEN"?v4({clientId:s.clientId}).then(c=>{s.callback&&s.callback(c)}).catch(c=>{s.error&&s.error(c)}):y4({clientId:s.clientId}).then(c=>{s.callback&&s.callback(c)}).catch(c=>{s.error&&s.error(c)})))},[ye(e)?Xt("v-if",!0):(G(),ee("span",{key:0,ref_key:"buttonRef",ref:i,class:"g-btn"},null,512)),F1(o.$slots,"default")]))}});(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
`),Wl.__scopeId="data-v-5e610566",Wl.__file="src/plugin/GoogleLogin.vue";var _4={install:(t,e)=>{e&&(n=>{n.clientId&&(ut.clientId=n.clientId),n.popupType&&(ut.popupType=n.popupType),n.prompt!=null&&(ut.prompt=n.prompt),n.autoLogin!=null&&(ut.autoLogin=n.autoLogin),n.idConfiguration&&(ut.idConfiguration=n.idConfiguration),n.buttonConfig&&(ut.buttonConfig=n.buttonConfig),n.callback&&(ut.callback=n.callback)})(e),my.then(()=>{if(e.clientId){const n={client_id:e.clientId,auto_select:e.autoLogin===!0,callback:e.callback,use_fedcm_for_prompt:!0,...e.idConfiguration};window.google.accounts.id.initialize(n),e.prompt&&window.google.accounts.id.prompt()}}),t.component("GoogleLogin",Wl)}};function E4(t){return typeof t=="object"&&t!==null}function Qf(t,e){return t=E4(t)?t:Object.create(null),new Proxy(t,{get(n,s,r){return s==="key"?Reflect.get(n,s,r):Reflect.get(n,s,r)||Reflect.get(e,s,r)}})}function b4(t,e){return e.reduce((n,s)=>n==null?void 0:n[s],t)}function C4(t,e,n){return e.slice(0,-1).reduce((s,r)=>/^(__proto__)$/.test(r)?{}:s[r]=s[r]||{},t)[e[e.length-1]]=n,t}function S4(t,e){return e.reduce((n,s)=>{const r=s.split(".");return C4(n,r,b4(t,r))},{})}function T4(t,e){return n=>{var s;try{const{storage:r=localStorage,beforeRestore:i=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:c=null,debug:u=!1}=n;return{storage:r,beforeRestore:i,afterRestore:o,serializer:a,key:((s=t.key)!=null?s:h=>h)(typeof l=="string"?l:l(e.$id)),paths:c,debug:u}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function Yf(t,{storage:e,serializer:n,key:s,debug:r}){try{const i=e==null?void 0:e.getItem(s);i&&t.$patch(n==null?void 0:n.deserialize(i))}catch(i){r&&console.error("[pinia-plugin-persistedstate]",i)}}function Jf(t,{storage:e,serializer:n,key:s,paths:r,debug:i}){try{const o=Array.isArray(r)?S4(t,r):t;e.setItem(s,n.serialize(o))}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function A4(t={}){return e=>{const{auto:n=!1}=t,{options:{persist:s=n},store:r,pinia:i}=e;if(!s)return;if(!(r.$id in i.state.value)){const a=i._s.get(r.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(s)?s.map(a=>Qf(a,t)):[Qf(s,t)]).map(T4(t,r)).filter(Boolean);r.$persist=()=>{o.forEach(a=>{Jf(r.$state,a)})},r.$hydrate=({runHooks:a=!0}={})=>{o.forEach(l=>{const{beforeRestore:c,afterRestore:u}=l;a&&(c==null||c(e)),Yf(r,l),a&&(u==null||u(e))})},o.forEach(a=>{const{beforeRestore:l,afterRestore:c}=a;l==null||l(e),Yf(r,a),c==null||c(e),r.$subscribe((u,h)=>{Jf(h,a)},{detached:!0})})}}var I4=A4();const yy=Q0();yy.use(I4);const ya=z0(uT);ya.use(yy);ya.use(g4);ya.use(_4,{clientId:"878858859701-ngt2r2j69sfrad7josmdce93rmfcip7h.apps.googleusercontent.com"});ya.mount("#app");
